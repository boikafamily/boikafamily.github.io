<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>–ü—É—Ç–µ–≤–æ–¥–∏—Ç–µ–ª—å –ø–æ –°—Ç–∞–º–±—É–ª—É</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --background: hsl(30, 50%, 98%);
      --foreground: hsl(200, 30%, 15%);
      --card: hsl(30, 40%, 99%);
      --card-foreground: hsl(200, 30%, 15%);
      --primary: hsl(181, 80%, 26%);
      --primary-foreground: hsl(30, 50%, 98%);
      --secondary: hsl(15, 70%, 62%);
      --secondary-foreground: hsl(30, 50%, 98%);
      --muted: hsl(30, 20%, 92%);
      --muted-foreground: hsl(200, 10%, 45%);
      --accent: hsl(40, 80%, 55%);
      --border: hsl(30, 20%, 88%);
      --gradient-hero: linear-gradient(135deg, hsl(181, 80%, 26%) 0%, hsl(200, 60%, 35%) 100%);
      --gradient-warm: linear-gradient(135deg, hsl(15, 70%, 62%) 0%, hsl(40, 80%, 55%) 100%);
      --shadow-card: 0 4px 20px -4px hsla(200, 30%, 15%, 0.08);
      --shadow-elevated: 0 8px 30px -8px hsla(200, 30%, 15%, 0.15);
      --radius: 0.75rem;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background-color: var(--background);
      color: var(--foreground);
      min-height: 100vh;
      padding-bottom: 80px;
      -webkit-font-smoothing: antialiased;
    }

    h1, h2, h3 {
      font-family: 'Playfair Display', serif;
    }

    .page {
      display: none;
      animation: fadeIn 0.3s ease-out;
    }

    .page.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate-slide-up {
      animation: slideUp 0.5s ease-out forwards;
    }

    /* Navigation */
    .nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: var(--card);
      border-top: 1px solid var(--border);
      box-shadow: var(--shadow-elevated);
      z-index: 50;
      padding-bottom: env(safe-area-inset-bottom);
    }

    .nav-inner {
      display: flex;
      justify-content: space-around;
      align-items: center;
      height: 64px;
      max-width: 500px;
      margin: 0 auto;
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      color: var(--muted-foreground);
      text-decoration: none;
    }

    .nav-item.active {
      color: var(--primary);
      transform: scale(1.05);
    }

    .nav-item:hover {
      color: var(--primary);
    }

    .nav-item svg {
      width: 20px;
      height: 20px;
      margin-bottom: 2px;
    }

    .nav-item span {
      font-size: 10px;
      font-weight: 500;
    }

    /* Header */
    .header-hero {
      background: var(--gradient-hero);
      color: var(--primary-foreground);
      padding: 32px 16px;
      text-align: center;
    }

    .header-hero.warm {
      background: var(--gradient-warm);
    }

    .header-hero h1 {
      font-size: 1.875rem;
      font-weight: 700;
    }

    .header-hero p {
      margin-top: 8px;
      opacity: 0.8;
    }

    /* Hero Section */
    .hero {
      position: relative;
      height: 50vh;
      background: var(--gradient-hero);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .hero-bg {
      position: absolute;
      inset: 0;
      background: url('https://images.unsplash.com/photo-1524231757912-21f4fe3a7200?w=1200') center/cover;
      opacity: 0.3;
    }

    .hero-content {
      position: relative;
      z-index: 10;
      text-align: center;
      padding: 24px;
      animation: slideUp 0.5s ease-out;
    }

    .hero-content h1 {
      font-size: 2.25rem;
      font-weight: 700;
      color: var(--primary-foreground);
      margin-bottom: 16px;
    }

    .hero-content p {
      font-size: 1.125rem;
      color: var(--primary-foreground);
      opacity: 0.9;
      max-width: 500px;
    }

    @media (min-width: 768px) {
      .hero-content h1 { font-size: 3.5rem; }
    }

    /* Cards */
    .card {
      background: var(--card);
      border-radius: 16px;
      padding: 24px;
      box-shadow: var(--shadow-card);
    }

    .card-elevated {
      box-shadow: var(--shadow-elevated);
    }

    .cards-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
      padding: 16px;
      max-width: 900px;
      margin: 0 auto;
    }

    @media (min-width: 768px) {
      .cards-grid { grid-template-columns: repeat(2, 1fr); }
      .cards-grid .card-full { grid-column: span 2; }
    }

    .cards-offset {
      margin-top: -48px;
      position: relative;
      z-index: 20;
    }

    .card-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    .card-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .card-icon.primary { background: hsla(181, 80%, 26%, 0.1); color: var(--primary); }
    .card-icon.secondary { background: hsla(15, 70%, 62%, 0.2); color: var(--secondary); }
    .card-icon.accent { background: hsla(40, 80%, 55%, 0.2); color: var(--accent); }

    .card-title {
      font-size: 1.125rem;
      font-weight: 600;
    }

    .text-muted {
      color: var(--muted-foreground);
    }

    .text-sm {
      font-size: 0.875rem;
    }

    .text-xs {
      font-size: 0.75rem;
    }

    /* Info Rows */
    .info-row {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
    }

    .info-row .value {
      font-weight: 500;
      color: var(--foreground);
    }

    /* Info Pills */
    .info-pill {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: var(--muted);
      border-radius: 8px;
      margin-bottom: 8px;
    }

    /* Section */
    .section {
      padding: 48px 16px;
      max-width: 900px;
      margin: 0 auto;
    }

    .section-title {
      font-size: 1.5rem;
      font-weight: 700;
      text-align: center;
      margin-bottom: 24px;
    }

    /* Trip Overview */
    .trip-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }

    @media (min-width: 768px) {
      .trip-grid { grid-template-columns: repeat(4, 1fr); }
    }

    .trip-card {
      background: var(--card);
      border-radius: 12px;
      padding: 16px;
      text-align: center;
      box-shadow: var(--shadow-card);
      transition: box-shadow 0.2s;
      cursor: pointer;
    }

    .trip-card:hover {
      box-shadow: var(--shadow-elevated);
    }

    .trip-card .emoji {
      font-size: 2rem;
      margin-bottom: 8px;
    }

    .trip-card .day {
      font-size: 0.75rem;
      color: var(--muted-foreground);
    }

    .trip-card .title {
      font-size: 0.875rem;
      font-weight: 500;
    }

    /* Day Accordion */
    .day-list {
      max-width: 700px;
      margin: 0 auto;
      padding: 24px 16px;
    }

    .day-card {
      background: var(--card);
      border-radius: 16px;
      box-shadow: var(--shadow-card);
      margin-bottom: 16px;
      overflow: hidden;
    }

    .day-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .day-header:hover {
      background: var(--muted);
    }

    .day-header-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .day-header .emoji {
      font-size: 2rem;
    }

    .day-header .day-label {
      font-size: 0.75rem;
      color: var(--muted-foreground);
    }

    .day-header .day-title {
      font-weight: 600;
    }

    .day-header-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .day-progress-text {
      text-align: right;
    }

    .day-progress-text .label {
      font-size: 0.75rem;
      color: var(--muted-foreground);
    }

    .day-progress-text .value {
      font-size: 0.875rem;
      font-weight: 500;
    }

    .chevron {
      width: 20px;
      height: 20px;
      color: var(--muted-foreground);
      transition: transform 0.2s;
    }

    .day-card.expanded .chevron {
      transform: rotate(180deg);
    }

    .day-progress-bar {
      height: 4px;
      background: var(--muted);
    }

    .day-progress-bar .fill {
      height: 100%;
      background: var(--gradient-warm);
      transition: width 0.5s;
    }

    .day-content {
      display: none;
      padding: 16px;
      padding-top: 8px;
    }

    .day-card.expanded .day-content {
      display: block;
    }

    .route-box {
      background: hsla(181, 80%, 26%, 0.05);
      border-left: 4px solid var(--primary);
      border-radius: 8px;
      padding: 12px;
      margin-bottom: 16px;
    }

    .route-box .route-label {
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--primary);
      margin-bottom: 4px;
    }

    .route-box .route-text {
      font-size: 0.875rem;
      color: var(--muted-foreground);
    }

    /* Attraction Item */
    .attraction {
      position: relative;
      border-radius: 12px;
      padding: 16px;
      border: 1px solid var(--border);
      margin-bottom: 12px;
      display: flex;
      gap: 12px;
      transition: all 0.2s;
    }

    .attraction.visited {
      background: hsla(181, 80%, 26%, 0.05);
      border-color: hsla(181, 80%, 26%, 0.3);
    }

    .attraction-checkbox {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 2px solid var(--muted-foreground);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      flex-shrink: 0;
      transition: all 0.2s;
    }

    .attraction-checkbox:hover {
      border-color: var(--primary);
    }

    .attraction.visited .attraction-checkbox {
      background: var(--primary);
      border-color: var(--primary);
    }

    .attraction-checkbox svg {
      width: 14px;
      height: 14px;
      color: var(--primary-foreground);
      display: none;
    }

    .attraction.visited .attraction-checkbox svg {
      display: block;
    }

    .attraction-content {
      flex: 1;
      min-width: 0;
    }

    .attraction-name {
      font-weight: 500;
      margin-bottom: 4px;
    }

    .attraction.visited .attraction-name {
      text-decoration: line-through;
      color: var(--muted-foreground);
    }

    .attraction-meta {
      display: flex;
      align-items: center;
      gap: 16px;
      font-size: 0.875rem;
      color: var(--muted-foreground);
      margin-top: 4px;
    }

    .attraction-meta svg {
      width: 14px;
      height: 14px;
    }

    .attraction-desc {
      font-size: 0.875rem;
      color: var(--muted-foreground);
      margin-top: 8px;
    }

    .attraction-link {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-size: 0.875rem;
      color: var(--primary);
      text-decoration: none;
      margin-top: 8px;
    }

    .attraction-link:hover {
      text-decoration: underline;
    }

    .attraction-link svg {
      width: 14px;
      height: 14px;
    }

    /* Restaurant & Shop Cards */
    .list-container {
      max-width: 700px;
      margin: 0 auto;
      padding: 16px;
    }

    .list-card {
      background: var(--card);
      border-radius: 16px;
      padding: 20px;
      box-shadow: var(--shadow-card);
      margin-bottom: 16px;
      transition: box-shadow 0.2s;
    }

    .list-card:hover {
      box-shadow: var(--shadow-elevated);
    }

    .list-card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 12px;
    }

    .list-card-title {
      font-size: 1.125rem;
      font-weight: 600;
    }

    .list-card-subtitle {
      font-size: 0.875rem;
      color: var(--muted-foreground);
    }

    .rating-badge {
      display: flex;
      align-items: center;
      gap: 4px;
      background: hsla(40, 80%, 55%, 0.2);
      padding: 4px 8px;
      border-radius: 8px;
      font-size: 0.875rem;
      font-weight: 500;
    }

    .rating-badge svg {
      width: 16px;
      height: 16px;
      fill: var(--accent);
      color: var(--accent);
    }

    .list-card-desc {
      font-size: 0.875rem;
      color: var(--muted-foreground);
      margin-bottom: 12px;
    }

    .must-try {
      background: hsla(181, 80%, 26%, 0.05);
      border-radius: 8px;
      padding: 8px 12px;
      font-size: 0.875rem;
      margin-bottom: 12px;
    }

    .tip-box {
      background: hsla(181, 80%, 26%, 0.05);
      border-radius: 8px;
      padding: 8px 12px;
      font-size: 0.875rem;
      margin-bottom: 12px;
    }

    .list-card-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 8px;
    }

    .list-card-tags {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .tag {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-size: 0.75rem;
      background: var(--muted);
      padding: 4px 8px;
      border-radius: 999px;
    }

    .tag svg {
      width: 12px;
      height: 12px;
    }

    .price-tag {
      color: var(--primary);
      display: flex;
    }

    .price-tag svg {
      width: 16px;
      height: 16px;
    }

    .map-link {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-size: 0.875rem;
      color: var(--primary);
      text-decoration: none;
    }

    .map-link:hover {
      text-decoration: underline;
    }

    .map-link svg {
      width: 12px;
      height: 12px;
    }

    /* Legend */
    .legend {
      background: var(--card);
      border-radius: 12px;
      padding: 12px;
      box-shadow: var(--shadow-card);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 24px;
      font-size: 0.875rem;
      margin-bottom: 16px;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    /* Tips Box */
    .tips-box {
      background: hsla(40, 80%, 55%, 0.1);
      border-left: 4px solid var(--accent);
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 16px;
    }

    .tips-box h3 {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .tips-box ul {
      font-size: 0.875rem;
      color: var(--muted-foreground);
      padding-left: 0;
      list-style: none;
    }

    .tips-box li {
      margin-bottom: 4px;
    }

    /* Converter */
    .converter-container {
      max-width: 450px;
      margin: 0 auto;
      padding: 24px 16px;
    }

    .rate-info {
      background: var(--card);
      border-radius: 16px;
      padding: 16px;
      box-shadow: var(--shadow-card);
      margin-bottom: 24px;
    }

    .rate-info h3 {
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--muted-foreground);
      margin-bottom: 12px;
    }

    .rate-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .rate-item {
      background: var(--muted);
      border-radius: 8px;
      padding: 12px;
    }

    .rate-item .from {
      font-size: 0.875rem;
      color: var(--muted-foreground);
    }

    .rate-item .to {
      font-weight: 600;
    }

    .calculator {
      background: var(--card);
      border-radius: 16px;
      padding: 24px;
      box-shadow: var(--shadow-elevated);
    }

    .calc-input-group {
      margin-bottom: 24px;
    }

    .calc-label {
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--muted-foreground);
      margin-bottom: 8px;
      display: block;
    }

    .calc-input {
      width: 100%;
      font-size: 1.875rem;
      font-weight: 700;
      background: var(--muted);
      border: none;
      border-radius: 12px;
      padding: 16px;
      text-align: center;
      outline: none;
    }

    .calc-input:focus {
      box-shadow: 0 0 0 2px var(--primary);
    }

    .quick-amounts {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      margin-bottom: 24px;
    }

    .quick-btn {
      padding: 8px 16px;
      border-radius: 999px;
      font-size: 0.875rem;
      font-weight: 500;
      background: var(--muted);
      border: none;
      cursor: pointer;
      transition: all 0.2s;
    }

    .quick-btn:hover {
      background: hsla(181, 80%, 26%, 0.1);
    }

    .quick-btn.active {
      background: var(--primary);
      color: var(--primary-foreground);
    }

    .currency-row {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 24px;
    }

    .currency-select-wrapper {
      flex: 1;
    }

    .currency-select-wrapper label {
      font-size: 0.75rem;
      color: var(--muted-foreground);
      display: block;
      margin-bottom: 4px;
    }

    .currency-select {
      width: 100%;
      background: var(--muted);
      border: none;
      border-radius: 12px;
      padding: 12px 16px;
      font-weight: 500;
      outline: none;
      cursor: pointer;
      appearance: none;
    }

    .currency-select:focus {
      box-shadow: 0 0 0 2px var(--primary);
    }

    .swap-btn {
      width: 48px;
      height: 48px;
      background: hsla(181, 80%, 26%, 0.1);
      border: none;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      margin-top: 16px;
      transition: background 0.2s;
    }

    .swap-btn:hover {
      background: hsla(181, 80%, 26%, 0.2);
    }

    .swap-btn svg {
      width: 20px;
      height: 20px;
      color: var(--primary);
    }

    .result-box {
      background: var(--gradient-hero);
      border-radius: 12px;
      padding: 24px;
      text-align: center;
    }

    .result-label {
      font-size: 0.875rem;
      color: var(--primary-foreground);
      opacity: 0.8;
      margin-bottom: 4px;
    }

    .result-value {
      font-size: 2.25rem;
      font-weight: 700;
      color: var(--primary-foreground);
    }

    .result-detail {
      font-size: 0.875rem;
      color: var(--primary-foreground);
      opacity: 0.6;
      margin-top: 8px;
    }

    .disclaimer {
      text-align: center;
      font-size: 0.75rem;
      color: var(--muted-foreground);
      margin-top: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
    }

    .disclaimer svg {
      width: 12px;
      height: 12px;
    }

    /* Expenses */
    .expenses-container {
      max-width: 700px;
      margin: 0 auto;
      padding: 24px 16px;
    }

    .total-card {
      background: var(--card);
      border-radius: 16px;
      padding: 20px;
      box-shadow: var(--shadow-elevated);
      margin-bottom: 24px;
    }

    .total-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    .total-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .total-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: hsla(15, 70%, 62%, 0.2);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .total-icon svg {
      width: 20px;
      height: 20px;
      color: var(--secondary);
    }

    .total-label {
      font-size: 0.875rem;
      color: var(--muted-foreground);
    }

    .total-value {
      font-size: 1.5rem;
      font-weight: 700;
    }

    .add-btn {
      width: 48px;
      height: 48px;
      background: var(--primary);
      border: none;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: var(--shadow-elevated);
      transition: opacity 0.2s;
    }

    .add-btn:hover {
      opacity: 0.9;
    }

    .add-btn svg {
      width: 24px;
      height: 24px;
      color: var(--primary-foreground);
    }

    .category-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .category-tag {
      font-size: 0.75rem;
      padding: 4px 8px;
      border-radius: 999px;
    }

    .category-tag.food { background: #fed7aa; color: #9a3412; }
    .category-tag.transport { background: #bfdbfe; color: #1e40af; }
    .category-tag.tickets { background: #e9d5ff; color: #6b21a8; }
    .category-tag.shopping { background: #fbcfe8; color: #9d174d; }
    .category-tag.accommodation { background: #bbf7d0; color: #166534; }
    .category-tag.other { background: #e5e7eb; color: #374151; }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 48px 16px;
    }

    .empty-state p {
      color: var(--muted-foreground);
      margin-bottom: 16px;
    }

    .empty-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 24px;
      background: var(--primary);
      color: var(--primary-foreground);
      border: none;
      border-radius: 12px;
      font-weight: 500;
      cursor: pointer;
      transition: opacity 0.2s;
    }

    .empty-btn:hover {
      opacity: 0.9;
    }

    .empty-btn svg {
      width: 20px;
      height: 20px;
    }

    /* Expense List */
    .expense-date-group {
      margin-bottom: 24px;
    }

    .expense-date {
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--muted-foreground);
      margin-bottom: 12px;
    }

    .expense-item {
      background: var(--card);
      border-radius: 12px;
      padding: 16px;
      box-shadow: var(--shadow-card);
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    .expense-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .expense-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.25rem;
    }

    .expense-amount {
      font-weight: 500;
    }

    .expense-desc {
      font-size: 0.875rem;
      color: var(--muted-foreground);
    }

    .delete-btn {
      width: 32px;
      height: 32px;
      background: transparent;
      border: none;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.2s;
    }

    .delete-btn:hover {
      background: hsla(0, 84%, 60%, 0.1);
    }

    .delete-btn svg {
      width: 16px;
      height: 16px;
      color: hsl(0, 84%, 60%);
    }

    /* Modal */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 100;
      display: none;
      align-items: flex-end;
      justify-content: center;
      padding: 16px;
    }

    .modal-overlay.active {
      display: flex;
    }

    @media (min-width: 640px) {
      .modal-overlay { align-items: center; }
    }

    .modal {
      background: var(--card);
      border-radius: 24px 24px 0 0;
      width: 100%;
      max-width: 450px;
      padding: 24px;
      animation: slideUp 0.3s ease-out;
    }

    @media (min-width: 640px) {
      .modal { border-radius: 16px; }
    }

    .modal h3 {
      font-size: 1.25rem;
      font-weight: 700;
      margin-bottom: 16px;
    }

    .form-group {
      margin-bottom: 16px;
    }

    .form-label {
      font-size: 0.875rem;
      color: var(--muted-foreground);
      display: flex;
      align-items: center;
      gap: 4px;
      margin-bottom: 4px;
    }

    .form-label svg {
      width: 16px;
      height: 16px;
    }

    .form-input {
      width: 100%;
      background: var(--muted);
      border: none;
      border-radius: 12px;
      padding: 12px 16px;
      font-size: 1rem;
      outline: none;
    }

    .form-input:focus {
      box-shadow: 0 0 0 2px var(--primary);
    }

    .form-row {
      display: flex;
      gap: 12px;
    }

    .form-row > * {
      flex: 1;
    }

    .form-row .currency-wrapper {
      width: 120px;
      flex: none;
    }

    .category-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
    }

    .category-btn {
      padding: 8px 12px;
      border-radius: 12px;
      font-size: 0.875rem;
      font-weight: 500;
      background: var(--muted);
      border: none;
      cursor: pointer;
      transition: all 0.2s;
    }

    .category-btn:hover {
      background: hsla(181, 80%, 26%, 0.1);
    }

    .category-btn.active {
      background: var(--primary);
      color: var(--primary-foreground);
    }

    .modal-actions {
      display: flex;
      gap: 12px;
      margin-top: 24px;
    }

    .modal-actions button {
      flex: 1;
      padding: 12px;
      border-radius: 12px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    .cancel-btn {
      background: transparent;
      border: 1px solid var(--border);
    }

    .cancel-btn:hover {
      background: var(--muted);
    }

    .submit-btn {
      background: var(--primary);
      color: var(--primary-foreground);
      border: none;
    }

    .submit-btn:hover {
      opacity: 0.9;
    }

    /* Shop Icon */
    .shop-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: hsla(181, 80%, 26%, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .shop-icon svg {
      width: 20px;
      height: 20px;
      color: var(--primary);
    }

    .list-card-header-with-icon {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    /* Toast Notification */
    .toast {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--primary);
      color: var(--primary-foreground);
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: var(--shadow-elevated);
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 8px;
      animation: slideDown 0.3s ease-out;
    }

    @keyframes slideDown {
      from { opacity: 0; transform: translate(-50%, -20px); }
      to { opacity: 1; transform: translate(-50%, 0); }
    }

    .toast.success { background: var(--primary); }
    .toast.error { background: hsl(0, 84%, 60%); }
    .toast.warning { background: var(--accent); }

    /* Loader */
    .loader {
      width: 24px;
      height: 24px;
      border: 2px solid var(--muted);
      border-top-color: var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <!-- HOME PAGE -->
  <div id="page-home" class="page active">
    <section class="hero">
      <div class="hero-bg"></div>
      <div class="hero-content">
        <h1>–ü—Ä–∏–≤–µ—Ç, –ë–æ–π–∫–∏! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –°—Ç–∞–º–±—É–ª</h1>
        <p>–ì–æ—Ä–æ–¥ –Ω–∞ –¥–≤—É—Ö –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–∞—Ö ‚Äî –≥–¥–µ –ï–≤—Ä–æ–ø–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —Å –ê–∑–∏–µ–π</p>
        <p>–ñ–µ–ª–∞–µ–º –≤–∞–º —Ö–æ—Ä–æ—à–µ–π –ø–æ–≥–æ–¥—ã –∏ –∫–ª–∞—Å—Å–Ω—ã—Ö –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–π!.</p>
      </div>
    </section>

    <div class="cards-grid cards-offset">
      <div class="card card-elevated animate-slide-up">
        <div class="card-header">
          <div class="card-icon primary">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
          </div>
          <div>
            <h3 class="card-title">Gloria Suites Old City</h3>
            <p class="text-xs text-muted" style="margin-top: 2px;">–ù–∞—à –æ—Ç–µ–ª—å</p>
          </div>
        </div>
        <p class="text-muted text-sm">–†–∞–π–æ–Ω –°—É–ª—Ç–∞–Ω–∞—Ö–º–µ—Ç ‚Äî –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä –≥–æ—Ä–æ–¥–∞ —Å –ø–µ—à–µ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é –∫ –æ—Å–Ω–æ–≤–Ω—ã–º –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º</p>
        <div style="margin-top: 12px; display: flex; align-items: center; gap: 8px;">
          <a 
            href="https://secure.booking.com/confirmation.ru.html?label=en-row-booking-desktop-e9CoRcORKy17TTYFxBGeLQS652796017659%3Apl%3Ata%3Ap1%3Ap2%3Aac%3Aap%3Aneg%3Afi%3Atikwd-15349264036%3Alp9197461%3Ali%3Adec%3Adm&sid=fcfdf54a2bfe0d467324fe7af21f5117&aid=2311236&auth_key=GzUMoXn7hgSVSRIo&source=mytrips" 
            target="_blank" 
            class="attraction-link"
            style="display: inline-flex; align-items: center; gap: 6px;"
          >
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></svg>
            –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
          </a>
          <span style="color: var(--muted-foreground); font-size: 12px;">‚Ä¢</span>
          <span style="color: var(--muted-foreground); font-size: 12px;">–†–µ–π—Ç–∏–Ω–≥: 8.8</span>
        </div>
      </div>

      <div class="card card-elevated animate-slide-up" style="animation-delay: 0.1s">
        <div class="card-header">
          <div class="card-icon secondary">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="12" x="2" y="6" rx="2"/><circle cx="12" cy="12" r="2"/><path d="M6 12h.01M18 12h.01"/></svg>
          </div>
          <h3 class="card-title">–ö—É—Ä—Å –≤–∞–ª—é—Ç</h3>
        </div>
        <div class="info-row text-sm">
          <span class="text-muted">100 TRY</span>
          <span class="value">‚âà 6,5 BYN</span>
        </div>
        <div class="info-row text-sm">
          <span class="text-muted">100 TRY</span>
          <span class="value">‚âà 3,2 EUR</span>
        </div>
      </div>

      <div class="card card-elevated card-full animate-slide-up" style="animation-delay: 0.2s">
        <div class="card-header">
          <div class="card-icon accent">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>
          </div>
          <h3 class="card-title">–ü–æ–≥–æ–¥–∞ –≤ –°—Ç–∞–º–±—É–ª–µ</h3>
        </div>
        
        <!-- –í–∏–¥–∂–µ—Ç "–ù—É –∏ –ø–æ–≥–æ–¥–∞" -->
        <div style="display: flex; justify-content: center; align-items: center; min-height: 300px; padding: 16px;">
          <a class="nuipogoda-iframe-informer" data-nuipogoda="informer3" href="https://stambul.nuipogoda.ru" style="width:284px;height:263px;display:block;box-shadow: 0 0 5px #999; border-radius: 12px; overflow: hidden;">–ù–£ –ò –ü–û–ì–û–î–ê</a>
        </div>
        
        <p class="text-xs text-muted" style="text-align: center; margin-top: 8px;">–î–∞–Ω–Ω—ã–µ –æ—Ç –ù—É –∏ –ø–æ–≥–æ–¥–∞</p>
      </div>
    </div>

    <section class="section">
      <h2 class="section-title">–û –°—Ç–∞–º–±—É–ª–µ</h2>
      <div class="card">
        <p class="text-muted text-sm" style="line-height: 1.6; margin-bottom: 16px;">
          –°—Ç–∞–º–±—É–ª ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≥–æ—Ä–æ–¥ –≤ –º–∏—Ä–µ, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –Ω–∞ –¥–≤—É—Ö –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–∞—Ö. –ë–æ–ª–µ–µ 15 –º–∏–ª–ª–∏–æ–Ω–æ–≤ –∂–∏—Ç–µ–ª–µ–π, —Ç—ã—Å—è—á–µ–ª–µ—Ç–Ω—è—è –∏—Å—Ç–æ—Ä–∏—è –∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ–µ —Å–º–µ—à–µ–Ω–∏–µ –∫—É–ª—å—Ç—É—Ä.
        </p>
        <p class="text-muted text-sm" style="line-height: 1.6; margin-bottom: 16px;">
          –ë—ã–≤—à–∏–π –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω–æ–ø–æ–ª—å ‚Äî —Å—Ç–æ–ª–∏—Ü–∞ —Ç—Ä—ë—Ö –∏–º–ø–µ—Ä–∏–π: –†–∏–º—Å–∫–æ–π, –í–∏–∑–∞–Ω—Ç–∏–π—Å–∫–æ–π –∏ –û—Å–º–∞–Ω—Å–∫–æ–π. –ö–∞–∂–¥—ã–π —É–≥–æ–ª–æ–∫ –≥–æ—Ä–æ–¥–∞ —Ö—Ä–∞–Ω–∏—Ç —Å–ª–µ–¥—ã –≤–µ–ª–∏–∫–∏—Ö —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏–π.
        </p>
        <div class="info-pill">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: var(--primary)"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
          <span>–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω –Ω–∞ –ø—Ä–æ–ª–∏–≤–µ –ë–æ—Å—Ñ–æ—Ä</span>
        </div>
        <div class="info-pill">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: var(--primary)"><path d="M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z"/><path d="M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2"/><path d="M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2"/><path d="M10 6h4"/><path d="M10 10h4"/><path d="M10 14h4"/><path d="M10 18h4"/></svg>
          <span>–ë–æ–ª–µ–µ 3000 –º–µ—á–µ—Ç–µ–π</span>
        </div>
        <div class="info-pill">
          <span style="font-size: 1.25rem;">üáπüá∑</span>
          <span>–ù–∞—Å–µ–ª–µ–Ω–∏–µ: 15+ –º–ª–Ω —á–µ–ª–æ–≤–µ–∫</span>
        </div>
      </div>
    </section>

    <section class="section" style="padding-top: 0;">
      <h2 class="section-title">–ù–∞—à–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ</h2>
      <div class="trip-grid">
        <div class="trip-card" onclick="showPage('guide')">
          <span class="emoji">‚úàÔ∏è</span>
          <p class="day">–î–µ–Ω—å 1</p>
          <p class="title">–ü—Ä–∏–ª–µ—Ç, –∑–∞—Å–µ–ª–µ–Ω–∏–µ</p>
        </div>
        <div class="trip-card" onclick="showPage('guide')">
          <span class="emoji">üïå</span>
          <p class="day">–î–µ–Ω—å 2</p>
          <p class="title">–°—É–ª—Ç–∞–Ω–∞—Ö–º–µ—Ç —á.1</p>
        </div>
        <div class="trip-card" onclick="showPage('guide')">
          <span class="emoji">üèõÔ∏è</span>
          <p class="day">–î–µ–Ω—å 3</p>
          <p class="title">–°—É–ª—Ç–∞–Ω–∞—Ö–º–µ—Ç —á.2</p>
        </div>
        <div class="trip-card" onclick="showPage('guide')">
          <span class="emoji">üóº</span>
          <p class="day">–î–µ–Ω—å 4</p>
          <p class="title">–ì–∞–ª–∞—Ç–∞ –∏ –¢–∞–∫—Å–∏–º</p>
        </div>
        <div class="trip-card" onclick="showPage('guide')">
          <span class="emoji">‚õ¥Ô∏è</span>
          <p class="day">–î–µ–Ω—å 5</p>
          <p class="title">–ë–æ—Å—Ñ–æ—Ä</p>
        </div>
        <div class="trip-card" onclick="showPage('guide')">
          <span class="emoji">üéØ</span>
          <p class="day">–î–µ–Ω—å 6</p>
          <p class="title">–°–≤–æ–±–æ–¥–Ω—ã–π –¥–µ–Ω—å</p>
        </div>
        <div class="trip-card" onclick="showPage('guide')">
          <span class="emoji">üõÑ</span>
          <p class="day">–î–µ–Ω—å 7</p>
          <p class="title">–î–æ—Ä–æ–≥–∞ –¥–æ–º–æ–π</p>
        </div>
      </div>
    </section>
  </div>

  <!-- GUIDE PAGE -->
  <div id="page-guide" class="page">
    <header class="header-hero">
      <h1>–ì–∏–¥ –ø–æ –¥–Ω—è–º</h1>
      <p>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –¥–µ–Ω—å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –º–∞—Ä—à—Ä—É—Ç–∞</p>
    </header>

    <div class="day-list" id="day-list"></div>
  </div>

  <!-- RESTAURANTS PAGE -->
  <div id="page-restaurants" class="page">
    <header class="header-hero warm">
      <h1>–ì–¥–µ –ø–æ–µ—Å—Ç—å</h1>
      <p>–†–µ–π—Ç–∏–Ω–≥ 4.9+ ¬∑ –ë—é–¥–∂–µ—Ç–Ω—ã–µ —Ü–µ–Ω—ã</p>
    </header>

    <div class="list-container">
      <div class="legend">
        <div class="legend-item">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
          <span>–ë—é–¥–∂–µ—Ç–Ω–æ</span>
        </div>
        <div class="legend-item">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
          <span>–°—Ä–µ–¥–Ω–µ</span>
        </div>
      </div>

      <div id="restaurants-list"></div>
    </div>
  </div>

  <!-- SHOPS PAGE -->
  <div id="page-shops" class="page">
    <header class="header-hero">
      <h1>–ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã</h1>
      <p>–°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç—ã, —Ä—ã–Ω–∫–∏ –∏ –¥–∏—Å–∫–∞—É–Ω—Ç–µ—Ä—ã</p>
    </header>

    <div class="list-container">
      <div class="tips-box">
        <h3>üí° –°–æ–≤–µ—Ç—ã –ø–æ –ø–æ–∫—É–ø–∫–∞–º</h3>
        <ul>
          <li>‚Ä¢ A101, Bƒ∞M, ≈ûOK ‚Äî —Å–∞–º—ã–µ –¥–µ—à—ë–≤—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã</li>
          <li>‚Ä¢ Migros ‚Äî –ª—É—á—à–∏–π –≤—ã–±–æ—Ä, –Ω–æ –¥–æ—Ä–æ–∂–µ</li>
          <li>‚Ä¢ –ù–∞ —Ä—ã–Ω–∫–∞—Ö –≤—Å–µ–≥–¥–∞ —Ç–æ—Ä–≥—É–π—Ç–µ—Å—å!</li>
          <li>‚Ä¢ –í–æ–¥–∞ –≤ –¥–∏—Å–∫–∞—É–Ω—Ç–µ—Ä–∞—Ö –≤ 2-3 —Ä–∞–∑–∞ –¥–µ—à–µ–≤–ª–µ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Å—Ç</li>
        </ul>
      </div>

      <div id="shops-list"></div>
    </div>
  </div>

  <!-- CONVERTER PAGE -->
  <div id="page-converter" class="page">
    <header class="header-hero">
      <h1>–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç</h1>
      <p>–ë—ã—Å—Ç—Ä—ã–π —Ä–∞—Å—á—ë—Ç –∫—É—Ä—Å–∞</p>
    </header>

    <div class="converter-container">
      <div class="rate-info">
        <h3>üìä –¢–µ–∫—É—â–∏–µ –∫—É—Ä—Å—ã (–ø—Ä–∏–º–µ—Ä–Ω—ã–µ)</h3>
        <div class="rate-grid">
          <div class="rate-item">
            <p class="from">100 TRY</p>
            <p class="to">‚âà 6,5 BYN</p>
          </div>
          <div class="rate-item">
            <p class="from">100 TRY</p>
            <p class="to">‚âà 3,2 EUR</p>
          </div>
        </div>
      </div>

      <div class="calculator">
        <div class="calc-input-group">
          <label class="calc-label">–°—É–º–º–∞</label>
          <input type="number" id="calc-amount" class="calc-input" value="100" placeholder="0">
        </div>

        <div class="quick-amounts" id="quick-amounts"></div>

        <div class="currency-row">
          <div class="currency-select-wrapper">
            <label>–ò–∑</label>
            <select id="from-currency" class="currency-select">
              <option value="TRY">üáπüá∑ TRY</option>
              <option value="BYN">üáßüáæ BYN</option>
              <option value="EUR">üá™üá∫ EUR</option>
              <option value="USD">üá∫üá∏ USD</option>
            </select>
          </div>

          <button class="swap-btn" onclick="swapCurrencies()">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3L4 7l4 4"/><path d="M4 7h16"/><path d="m16 21 4-4-4-4"/><path d="M20 17H4"/></svg>
          </button>

          <div class="currency-select-wrapper">
            <label>–í</label>
            <select id="to-currency" class="currency-select">
              <option value="TRY">üáπüá∑ TRY</option>
              <option value="BYN" selected>üáßüáæ BYN</option>
              <option value="EUR">üá™üá∫ EUR</option>
              <option value="USD">üá∫üá∏ USD</option>
            </select>
          </div>
        </div>

        <div class="result-box">
          <p class="result-label">–†–µ–∑—É–ª—å—Ç–∞—Ç</p>
          <p class="result-value" id="result-value">Br 6.50</p>
          <p class="result-detail" id="result-detail">100.00 ‚Ç∫ = 6.50 Br</p>
        </div>
      </div>

      <p class="disclaimer">
        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/></svg>
        –ö—É—Ä—Å—ã –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–µ. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫—É—Ä—Å –≤ –±–∞–Ω–∫–µ –∏–ª–∏ –æ–±–º–µ–Ω–Ω–∏–∫–µ.
      </p>
    </div>
  </div>

  <!-- EXPENSES PAGE -->
  <div id="page-expenses" class="page">
    <header class="header-hero warm">
      <h1>–£—á—ë—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤</h1>
      <p>–§–∏–∫—Å–∏—Ä—É–π—Ç–µ —Ç—Ä–∞—Ç—ã –≤ –ø–æ–µ–∑–¥–∫–µ</p>
    </header>

    <div class="expenses-container">
      <div class="total-card">
        <div class="total-header">
          <div class="total-info">
            <div class="total-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>
            </div>
            <div>
              <p class="total-label">–í—Å–µ–≥–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ</p>
              <p class="total-value" id="total-spent">0.00 BYN</p>
            </div>
          </div>
          <button class="add-btn" onclick="openModal()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
          </button>
        </div>
        <div class="category-tags" id="category-breakdown"></div>
      </div>

      <div id="expenses-list"></div>
    </div>
  </div>

  <!-- ADD EXPENSE MODAL -->
  <div class="modal-overlay" id="expense-modal">
    <div class="modal">
      <h3>–ù–æ–≤—ã–π —Ä–∞—Å—Ö–æ–¥</h3>
      
      <div class="form-group">
        <label class="form-label">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>
          –î–∞—Ç–∞
        </label>
        <input type="date" id="expense-date" class="form-input" value="${new Date().toISOString().split('T')[0]}">
      </div>

      <div class="form-group">
        <div class="form-row">
          <div>
            <label class="form-label">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="12" x="2" y="6" rx="2"/><circle cx="12" cy="12" r="2"/><path d="M6 12h.01M18 12h.01"/></svg>
              –°—É–º–º–∞
            </label>
            <input type="number" id="expense-amount" class="form-input" placeholder="0.00" min="0" step="0.01">
          </div>
          <div class="currency-wrapper">
            <label class="form-label">–í–∞–ª—é—Ç–∞</label>
            <select id="expense-currency" class="form-input">
              <option value="TRY">üáπüá∑ TRY</option>
              <option value="BYN">üáßüáæ BYN</option>
              <option value="EUR">üá™üá∫ EUR</option>
              <option value="USD">üá∫üá∏ USD</option>
            </select>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"/><path d="M7 7h.01"/></svg>
          –ö–∞—Ç–µ–≥–æ—Ä–∏—è
        </label>
        <div class="category-grid" id="category-grid"></div>
      </div>

      <div class="form-group">
        <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
        <input type="text" id="expense-desc" class="form-input" placeholder="–ß—Ç–æ –∫—É–ø–∏–ª–∏...">
      </div>

      <div class="modal-actions">
        <button class="cancel-btn" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
        <button class="submit-btn" onclick="addExpense()" id="submit-expense">–î–æ–±–∞–≤–∏—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- BOTTOM NAVIGATION -->
  <nav class="nav">
    <div class="nav-inner">
      <a class="nav-item active" data-page="home" onclick="showPage('home')">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        <span>–ì–ª–∞–≤–Ω–∞—è</span>
      </a>
      <a class="nav-item" data-page="guide" onclick="showPage('guide')">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"/><line x1="9" x2="9" y1="3" y2="18"/><line x1="15" x2="15" y1="6" y2="21"/></svg>
        <span>–ì–∏–¥</span>
      </a>
      <a class="nav-item" data-page="restaurants" onclick="showPage('restaurants')">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg>
        <span>–ï–¥–∞</span>
      </a>
      <a class="nav-item" data-page="shops" onclick="showPage('shops')">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/></svg>
        <span>–ú–∞–≥–∞–∑–∏–Ω—ã</span>
      </a>
      <a class="nav-item" data-page="converter" onclick="showPage('converter')">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="16" height="20" x="4" y="2" rx="2" ry="2"/><line x1="8" x2="16" y1="6" y2="6"/><line x1="16" x2="16" y1="14" y2="18"/><path d="M16 10h.01"/><path d="M12 10h.01"/><path d="M8 10h.01"/><path d="M12 14h.01"/><path d="M8 14h.01"/><path d="M12 18h.01"/><path d="M8 18h.01"/></svg>
        <span>–í–∞–ª—é—Ç–∞</span>
      </a>
      <a class="nav-item" data-page="expenses" onclick="showPage('expenses')">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z"/><path d="M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"/><path d="M12 17V7"/></svg>
        <span>–†–∞—Å—Ö–æ–¥—ã</span>
      </a>
    </div>
  </nav>

  <!-- Toast Notification -->
  <div id="toast" class="toast" style="display: none;"></div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    // ============= SUPABASE CONFIGURATION =============
    const SUPABASE_URL = 'https://yjithstkzcvcycmrfqet.supabase.co';
    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlqaXRoc3RremN2Y3ljbXJmcWV0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMjMxMDcsImV4cCI6MjA4MTg5OTEwN30.41GLqO47_tfrdSC2Dvo0Ya79KaI2oHIRmgOs3HDER9E';

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Supabase
    const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    // ============= DATA =============
    const travelDays = [
      {
        day: "–î–µ–Ω—å 1 (–ü—è—Ç–Ω–∏—Ü–∞, 13.02)",
        title: "–ü—Ä–∏–ª–µ—Ç, –∑–∞—Å–µ–ª–µ–Ω–∏–µ, –ø–µ—Ä–≤—ã–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è",
        emoji: "‚úàÔ∏è",
        route: "–ú–∏–Ω—Å–∫ ‚Üí –°—Ç–∞–º–±—É–ª: –ü—Ä–∏–ª–µ—Ç ‚Üí –ó–∞—Å–µ–ª–µ–Ω–∏–µ ‚Üí –í–µ—á–µ—Ä–Ω—è—è –ø—Ä–æ–≥—É–ª–∫–∞",
        attractions: [
          { name: "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –≤—ã–ª–µ—Ç—É", duration: "3:30-6:00", description: "–ü–æ–¥—ä–µ–º –≤ 3:30, —Ç–∞–∫—Å–∏ –Ω–∞ –≤–æ–∫–∑–∞–ª, –∞–≤—Ç–æ–±—É—Å 300–≠ –≤ –∞—ç—Ä–æ–ø–æ—Ä—Ç" },
          { name: "–ü–µ—Ä–µ–ª–µ—Ç –ú–∏–Ω—Å–∫-–°—Ç–∞–º–±—É–ª", duration: "6:00-14:50", description: "–í—ã–ª–µ—Ç –≤ 9:10, –ø—Ä–∏–ª–µ—Ç –≤ 14:50" },
          { name: "–ü—Ä–∏–±—ã—Ç–∏–µ –≤ –°—Ç–∞–º–±—É–ª", duration: "14:50-17:00", description: "–ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–≥–∞–∂–∞, –ø–æ–∫—É–ø–∫–∞ Istanbulkart, —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä –≤ –æ—Ç–µ–ª—å" },
          { name: "–ó–∞—Å–µ–ª–µ–Ω–∏–µ –≤ –æ—Ç–µ–ª—å", duration: "17:00-18:00", description: "–û—Ç–µ–ª—å Gloria Suites Old City –≤ —Ä–∞–π–æ–Ω–µ –°—É–ª—Ç–∞–Ω–∞—Ö–º–µ—Ç" },
          { name: "–ü–µ—Ä–≤—ã–π —É–∂–∏–Ω –≤ –°—Ç–∞–º–±—É–ª–µ", duration: "18:00-19:00", description: "–ë—ã—Å—Ç—Ä—ã–π –∏ –±—é–¥–∂–µ—Ç–Ω—ã–π —É–∂–∏–Ω (–º–∞–∫–¥–æ–Ω–∞–ª—å–¥—Å –∏–ª–∏ –º–µ—Å—Ç–Ω–∞—è –∑–∞–±–µ–≥–∞–ª–æ–≤–∫–∞)" },
          { name: "–í–µ—á–µ—Ä–Ω—è—è –ø—Ä–æ–≥—É–ª–∫–∞", duration: "19:00-22:00", description: "–ü–µ—Ä–≤–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –≥–æ—Ä–æ–¥–æ–º, –ø—Ä–æ–≥—É–ª–∫–∞ –≤ —Å—Ç–æ—Ä–æ–Ω—É –ø–ª–æ—â–∞–¥–∏ –°—É–ª—Ç–∞–Ω–∞—Ö–º–µ—Ç" }
        ]
      },
      {
        day: "–î–µ–Ω—å 2 (–°—É–±–±–æ—Ç–∞, 14.02)",
        title: "–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –°—É–ª—Ç–∞–Ω–∞—Ö–º–µ—Ç, —á–∞—Å—Ç—å 1",
        emoji: "üïå",
        route: "–ü–µ—à–∫–æ–º –æ—Ç –æ—Ç–µ–ª—è ‚Üí –ò–ø–ø–æ–¥—Ä–æ–º ‚Üí –ê–π—è-–°–æ—Ñ–∏—è ‚Üí –ì–æ–ª—É–±–∞—è –º–µ—á–µ—Ç—å ‚Üí –¶–∏—Å—Ç–µ—Ä–Ω–∞ ‚Üí –ï–≥–∏–ø–µ—Ç—Å–∫–∏–π –±–∞–∑–∞—Ä",
        attractions: [
          { name: "–ü–ª–æ—â–∞–¥—å –ò–ø–ø–æ–¥—Ä–æ–º –∏ –û–±–µ–ª–∏—Å–∫–∏", duration: "40 –º–∏–Ω", description: "–î—Ä–µ–≤–Ω–∏–π –∏–ø–ø–æ–¥—Ä–æ–º —Å –µ–≥–∏–ø–µ—Ç—Å–∫–∏–º –æ–±–µ–ª–∏—Å–∫–æ–º –∏ –∑–º–µ–∏–Ω–æ–π –∫–æ–ª–æ–Ω–Ω–æ–π", mapUrl: "https://maps.google.com/?q=Sultanahmet+Meydanƒ±,+Istanbul" },
          { name: "–°–æ–±–æ—Ä –°–≤—è—Ç–æ–π –°–æ—Ñ–∏–∏ (–ê–π—è-–°–æ—Ñ–∏—è)", duration: "1 —á–∞—Å", description: "–ú–µ—á–µ—Ç—å-–º—É–∑–µ–π, –±—ã–≤—à–∏–π —Å–æ–±–æ—Ä. –í—Ö–æ–¥ –ø–ª–∞—Ç–Ω—ã–π ‚Äî –±–∏–ª–µ—Ç—ã –ª—É—á—à–µ –∑–∞—Ä–∞–Ω–µ–µ –æ–Ω–ª–∞–π–Ω", mapUrl: "https://maps.google.com/?q=Hagia+Sophia,+Istanbul" },
          { name: "–ì–æ–ª—É–±–∞—è –º–µ—á–µ—Ç—å (–°—É–ª—Ç–∞–Ω–∞—Ö–º–µ—Ç)", duration: "1 —á–∞—Å", description: "–î–µ–π—Å—Ç–≤—É—é—â–∞—è –º–µ—á–µ—Ç—å —Å 6 –º–∏–Ω–∞—Ä–µ—Ç–∞–º–∏. –í—Ö–æ–¥ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π, –Ω—É–∂–Ω–∞ —Å–∫—Ä–æ–º–Ω–∞—è –æ–¥–µ–∂–¥–∞", mapUrl: "https://maps.google.com/?q=Blue+Mosque,+Istanbul" },
          { name: "–¶–∏—Å—Ç–µ—Ä–Ω–∞ –ë–∞–∑–∏–ª–∏–∫–∞", duration: "1 —á–∞—Å", description: "–ü–æ–¥–∑–µ–º–Ω–æ–µ –≤–æ–¥–æ—Ö—Ä–∞–Ω–∏–ª–∏—â–µ VI –≤–µ–∫–∞ —Å –∫–æ–ª–æ–Ω–Ω–∞–º–∏ –∏ –≥–æ–ª–æ–≤–∞–º–∏ –ú–µ–¥—É–∑—ã", mapUrl: "https://maps.google.com/?q=Basilica+Cistern,+Istanbul" },
          { name: "–ï–≥–∏–ø–µ—Ç—Å–∫–∏–π –±–∞–∑–∞—Ä (Mƒ±sƒ±r √áar≈üƒ±sƒ±)", duration: "1,5 —á–∞—Å–∞", description: "–°–ø–µ—Ü–∏–∏, —Å–ª–∞–¥–æ—Å—Ç–∏, —á–∞–π ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ø–æ–¥–∞—Ä–∫–æ–≤", mapUrl: "https://maps.google.com/?q=Spice+Bazaar,+Istanbul" }
        ]
      },
      {
        day: "–î–µ–Ω—å 3 (–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 15.02)",
        title: "–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –°—É–ª—Ç–∞–Ω–∞—Ö–º–µ—Ç, —á–∞—Å—Ç—å 2",
        emoji: "üèõÔ∏è",
        route: "–¢–æ–ø–∫–∞–ø—ã ‚Üí –ê—Ä—Ö–µ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –º—É–∑–µ–π ‚Üí –ü–∞—Ä–∫ –ì—é–ª—å—Ö–∞–Ω–µ ‚Üí –¶–∏—Å—Ç–µ—Ä–Ω–∞ –§–µ–æ–¥–æ—Å–∏—è ‚Üí –ì—Ä–∞–Ω–¥ –ë–∞–∑–∞—Ä",
        attractions: [
          { name: "–î–≤–æ—Ä–µ—Ü –¢–æ–ø–∫–∞–ø—ã", duration: "2,5-3 —á–∞—Å–∞", description: "–ì–ª–∞–≤–Ω—ã–π –¥–≤–æ—Ä–µ—Ü –æ—Å–º–∞–Ω—Å–∫–∏—Ö —Å—É–ª—Ç–∞–Ω–æ–≤. –ì–∞—Ä–µ–º –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ", mapUrl: "https://maps.google.com/?q=Topkapi+Palace,+Istanbul" },
          { name: "–ê—Ä—Ö–µ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –º—É–∑–µ–π", duration: "2 —á–∞—Å–∞", description: "–£–Ω–∏–∫–∞–ª—å–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —Å–∞—Ä–∫–æ—Ñ–∞–≥–æ–≤ –∏–∑ –ù–µ–∫—Ä–æ–ø–æ–ª—è –°–∏–¥–æ–Ω–∞: –°–∞—Ä–∫–æ—Ñ–∞–≥ –¢–∞–±–Ω–∏—Ç–∞, —Å–∞—Ä–∫–æ—Ñ–∞–≥ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –ú–∞–∫–µ–¥–æ–Ω—Å–∫–æ–≥–æ, —Å–∞—Ä–∫–æ—Ñ–∞–≥ –ü–ª–∞—á—É—â–∏—Ö –∂–µ–Ω—â–∏–Ω. –ù–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ!", mapUrl: "https://maps.google.com/?q=Istanbul+Archaeological+Museums" },
          { name: "–ü–∞—Ä–∫ –ì—é–ª—å—Ö–∞–Ω–µ", duration: "1 —á–∞—Å", description: "–°—Ç–∞—Ä–µ–π—à–∏–π –ø–∞—Ä–∫ –°—Ç–∞–º–±—É–ª–∞ —Å –≤–∏–¥–æ–º –Ω–∞ –ë–æ—Å—Ñ–æ—Ä", mapUrl: "https://maps.google.com/?q=Gulhane+Park,+Istanbul" },
          { name: "–¶–∏—Å—Ç–µ—Ä–Ω–∞ –§–µ–æ–¥–æ—Å–∏—è", duration: "1 —á–∞—Å", description: "–ú–µ–Ω–µ–µ –∏–∑–≤–µ—Å—Ç–Ω–∞—è, –Ω–æ –Ω–µ –º–µ–Ω–µ–µ –≤–ø–µ—á–∞—Ç–ª—è—é—â–∞—è —Ü–∏—Å—Ç–µ—Ä–Ω–∞", mapUrl: "https://maps.google.com/?q=Theodosius+Cistern,+Istanbul" },
          { name: "–ì—Ä–∞–Ω–¥ –ë–∞–∑–∞—Ä (Kapalƒ±√ßar≈üƒ±)", duration: "2 —á–∞—Å–∞", description: "–ö—Ä—É–ø–Ω–µ–π—à–∏–π –∫—Ä—ã—Ç—ã–π —Ä—ã–Ω–æ–∫ –º–∏—Ä–∞ ‚Äî 4000+ –º–∞–≥–∞–∑–∏–Ω–æ–≤", mapUrl: "https://maps.google.com/?q=Grand+Bazaar,+Istanbul" }
        ]
      },
      {
        day: "–î–µ–Ω—å 4 (–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, 16.02)",
        title: "–ì–∞–ª–∞—Ç—Å–∫–∞—è –±–∞—à–Ω—è, –ò—Å—Ç–∏–∫–ª—è–ª—å, –¢–∞–∫—Å–∏–º",
        emoji: "üóº",
        route: "–¢—Ä–∞–º–≤–∞–π –¥–æ –ö–∞—Ä–∞–∫—ë–π ‚Üí –õ–µ—Å—Ç–Ω–∏—Ü–∞ –ö–∞–º–æ–Ω–¥–æ ‚Üí –ì–∞–ª–∞—Ç–∞ ‚Üí –ø–µ—à–∫–æ–º –ø–æ –ò—Å—Ç–∏–∫–ª—è–ª—å ‚Üí –¢–∞–∫—Å–∏–º ‚Üí –ú–∏–Ω–∏–∞—Ç—é—Ä–∫/–ú—É–∑–µ–π –ö–æ—á–∞",
        attractions: [
          { name: "–õ–µ—Å—Ç–Ω–∏—Ü–∞ –ö–∞–º–æ–Ω–¥–æ", duration: "15 –º–∏–Ω", description: "–ó–Ω–∞–º–µ–Ω–∏—Ç–∞—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –ª–µ—Å—Ç–Ω–∏—Ü–∞ –≤ —Å—Ç–∏–ª–µ –∞—Ä-–Ω—É–≤–æ", mapUrl: "https://maps.google.com/?q=Camondo+Steps,+Istanbul" },
          { name: "–ì–∞–ª–∞—Ç—Å–∫–∞—è –ë–∞—à–Ω—è", duration: "1 —á–∞—Å", description: "–ü–∞–Ω–æ—Ä–∞–º–Ω—ã–π –≤–∏–¥ –Ω–∞ –≤–µ—Å—å –≥–æ—Ä–æ–¥. –ë–∏–ª–µ—Ç—ã –ª—É—á—à–µ –æ–Ω–ª–∞–π–Ω", mapUrl: "https://maps.google.com/?q=Galata+Tower,+Istanbul" },
          { name: "–£–ª–∏—Ü–∞ –ò—Å—Ç–∏–∫–ª—è–ª—å", duration: "2 —á–∞—Å–∞", description: "–ì–ª–∞–≤–Ω–∞—è –ø–µ—à–µ—Ö–æ–¥–Ω–∞—è —É–ª–∏—Ü–∞ —Å –º–∞–≥–∞–∑–∏–Ω–∞–º–∏ –∏ –∫–∞—Ñ–µ. –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π —Ç—Ä–∞–º–≤–∞–π", mapUrl: "https://maps.google.com/?q=Istiklal+Avenue,+Istanbul" },
          { name: "–¶–µ—Ä–∫–æ–≤—å –°–≤. –ú–∞—Ä–∏–∏ –î—Ä–∞–ø–µ—Ä–∏—Å", duration: "20 –º–∏–Ω", description: "–°—Ç–∞—Ä–µ–π—à–∞—è –¥–µ–π—Å—Ç–≤—É—é—â–∞—è –∫–∞—Ç–æ–ª–∏—á–µ—Å–∫–∞—è —Ü–µ—Ä–∫–æ–≤—å –°—Ç–∞–º–±—É–ª–∞", mapUrl: "https://maps.google.com/?q=Santa+Maria+Draperis,+Istanbul" },
          { name: "–¶–µ—Ä–∫–æ–≤—å –ê–Ω—Ç–æ–Ω–∏—è –ü–∞–¥—É–∞–Ω—Å–∫–æ–≥–æ", duration: "20 –º–∏–Ω", description: "–ö—Ä—É–ø–Ω–µ–π—à–∏–π –∫–∞—Ç–æ–ª–∏—á–µ—Å–∫–∏–π —Ö—Ä–∞–º –°—Ç–∞–º–±—É–ª–∞", mapUrl: "https://maps.google.com/?q=St.+Anthony+of+Padua+Church,+Istanbul" },
          { name: "–ü–∞—Å—Å–∞–∂–∏ —É–ª–∏—Ü—ã –ò—Å—Ç–∏–∫–ª—è–ª—å", duration: "30 –º–∏–Ω", description: "–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Ç–æ—Ä–≥–æ–≤—ã–µ –≥–∞–ª–µ—Ä–µ–∏ ‚Äî √ái√ßek Pasajƒ±, Atlas Pasajƒ±", mapUrl: "https://maps.google.com/?q=Cicek+Passage,+Istanbul" },
          { name: "–ü–ª–æ—â–∞–¥—å –¢–∞–∫—Å–∏–º", duration: "20 –º–∏–Ω", description: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –°—Ç–∞–º–±—É–ª–∞", mapUrl: "https://maps.google.com/?q=Taksim+Square,+Istanbul" },
          { name: "–¶–µ—Ä–∫–æ–≤—å –°–≤—è—Ç–æ–π –¢—Ä–æ–∏—Ü—ã (–¢–∞–∫—Å–∏–º)", duration: "20 –º–∏–Ω", description: "–ì—Ä–µ—á–µ—Å–∫–∞—è –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–∞—è —Ü–µ—Ä–∫–æ–≤—å —Ä—è–¥–æ–º —Å –ø–ª–æ—â–∞–¥—å—é", mapUrl: "https://maps.google.com/?q=Hagia+Triada+Greek+Orthodox+Church,+Istanbul" },
          { name: "–ú–∏–Ω–∏–∞—Ç—é—Ä–∫ –∏–ª–∏ –ú—É–∑–µ–π –†–∞—Ö–º–∏ –ú.–ö–æ—á–∞", duration: "2-3 —á–∞—Å–∞", description: "–ù–∞ –≤—ã–±–æ—Ä: –ø–∞—Ä–∫ –º–∏–Ω–∏–∞—Ç—é—Ä –¢—É—Ä—Ü–∏–∏ –∏–ª–∏ –º—É–∑–µ–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏", mapUrl: "https://maps.google.com/?q=Miniaturk,+Istanbul" }
        ]
      },
      {
        day: "–î–µ–Ω—å 5 (–í—Ç–æ—Ä–Ω–∏–∫, 17.02)",
        title: "–î–æ–ª–º–∞–±–∞—Ö—á–µ, –ë–æ—Å—Ñ–æ—Ä, –ö–∞—Ä–∞–∫—ë–π",
        emoji: "‚õ¥Ô∏è",
        route: "–¢—Ä–∞–º–≤–∞–π –¥–æ –î–æ–ª–º–∞–±–∞—Ö—á–µ ‚Üí –û—Ä—Ç–∞–∫—ë–π ‚Üí –¢—É—Ä –ø–æ –ë–æ—Å—Ñ–æ—Ä—É ‚Üí –ö–∞—Ä–∞–∫—ë–π –∏ –ì–∞–ª–∞—Ç–∞–ø–æ—Ä—Ç ‚Üí –î–µ—Ä–≤–∏—à–∏",
        attractions: [
          { name: "–î–≤–æ—Ä–µ—Ü –î–æ–ª–º–∞–±–∞—Ö—á–µ", duration: "2-3 —á–∞—Å–∞", description: "–†–æ—Å–∫–æ—à–Ω—ã–π –¥–≤–æ—Ä–µ—Ü XIX –≤–µ–∫–∞ –Ω–∞ –±–µ—Ä–µ–≥—É –ë–æ—Å—Ñ–æ—Ä–∞", mapUrl: "https://maps.google.com/?q=Dolmabahce+Palace,+Istanbul" },
          { name: "–ú–µ—á–µ—Ç—å –∏ –∫–≤–∞—Ä—Ç–∞–ª –û—Ä—Ç–∞–∫—ë–π", duration: "1-2 —á–∞—Å–∞", description: "–ñ–∏–≤–æ–ø–∏—Å–Ω–∞—è –º–µ—á–µ—Ç—å —É –ë–æ—Å—Ñ–æ—Ä–∞, —É–ª–∏—á–Ω–∞—è –µ–¥–∞ (–∫—É–º–ø–∏—Ä!)", mapUrl: "https://maps.google.com/?q=Ortakoy+Mosque,+Istanbul" },
          { name: "–¢—É—Ä –ø–æ –ë–æ—Å—Ñ–æ—Ä—É", duration: "1,5 —á–∞—Å–∞", description: "–ü—Ä–æ–≥—É–ª–∫–∞ –Ω–∞ –∫–æ—Ä–∞–±–ª–∏–∫–µ –æ—Ç –º–µ—á–µ—Ç–∏ –û—Ä—Ç–∞–∫—ë–π", mapUrl: "https://maps.google.com/?q=Ortakoy+Ferry+Terminal,+Istanbul" },
          { name: "–ö–∞—Ä–∞–∫—ë–π –∏ –ì–∞–ª–∞—Ç–∞–ø–æ—Ä—Ç", duration: "2-3 —á–∞—Å–∞", description: "–ú–æ–¥–Ω—ã–π —Ä–∞–π–æ–Ω —Å –∫–∞—Ñ–µ, –≥–∞–ª–µ—Ä–µ—è–º–∏ –∏ –Ω–∞–±–µ—Ä–µ–∂–Ω–æ–π", mapUrl: "https://maps.google.com/?q=Galataport,+Istanbul" },
          { name: "–í—ã—Å—Ç—É–ø–ª–µ–Ω–∏–µ –¥–µ—Ä–≤–∏—à–µ–π (–¢–∞–Ω–µ—Ü –¥–µ—Ä–≤–∏—à–µ–π)", duration: "1,5 —á–∞—Å–∞", description: "–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–∞—è —Ü–µ—Ä–µ–º–æ–Ω–∏—è —Å—É—Ñ–∏–π—Å–∫–æ–≥–æ –æ—Ä–¥–µ–Ω–∞ –ú–µ–≤–ª–µ–≤–∏", mapUrl: "https://maps.google.com/?q=Hodjapasha+Culture+Center,+Istanbul" }
        ]
      },
      {
        day: "–î–µ–Ω—å 6 (–°—Ä–µ–¥–∞, 18.02)",
        title: "–°–≤–æ–±–æ–¥–Ω—ã–π –¥–µ–Ω—å –≤ –°—Ç–∞–º–±—É–ª–µ",
        emoji: "üéØ",
        route: "–í—ã–±–æ—Ä –Ω–∞ –¥–µ–Ω—å: –ê–∑–∏–∞—Ç—Å–∫–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ / –ü—Ä–∏–Ω—Ü–µ–≤—ã –æ—Å—Ç—Ä–æ–≤–∞ / –í—Ç–æ—Ä–æ–π —à–∞–Ω—Å –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω–Ω–æ–µ",
        attractions: [
          { name: "–í–∞—Ä–∏–∞–Ω—Ç 1: –ê–∑–∏–∞—Ç—Å–∫–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –°—Ç–∞–º–±—É–ª–∞", duration: "4-5 —á–∞—Å–æ–≤", description: "–ü–∞—Ä–æ–º –¥–æ –ö–∞–¥—ã–∫—ë–π, —Ä–∞–π–æ–Ω –ú–æ–¥–∞, –Ω–∞–±–µ—Ä–µ–∂–Ω–∞—è, —Ä—ã–±–Ω—ã–π —Ä—ã–Ω–æ–∫, –∞—É—Ç–µ–Ω—Ç–∏—á–Ω—ã–µ –∫–∞—Ñ–µ" },
          { name: "–í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–∏–Ω—Ü–µ–≤—ã –æ—Å—Ç—Ä–æ–≤–∞ (–ë—é—é–∫–∞–¥–∞)", duration: "6-7 —á–∞—Å–æ–≤", description: "–ü–∞—Ä–æ–º –¥–æ –æ—Å—Ç—Ä–æ–≤–∞, –≤–µ–ª–æ—Å–∏–ø–µ–¥–Ω–∞—è –ø—Ä–æ–≥—É–ª–∫–∞, –∫–æ–Ω–Ω—ã–µ —ç–∫–∏–ø–∞–∂–∏, —Å–æ—Å–Ω–æ–≤—ã–µ –ª–µ—Å–∞" },
          { name: "–í–∞—Ä–∏–∞–Ω—Ç 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º—É–∑–µ–∏", duration: "3-4 —á–∞—Å–∞", description: "–ú—É–∑–µ–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∏—Å–∫—É—Å—Å—Ç–≤–∞, –ú—É–∑–µ–π –Ω–µ–≤–∏–Ω–Ω–æ—Å—Ç–∏, –ú—É–∑–µ–π –ü–µ—Ä–∞" },
          { name: "–í–∞—Ä–∏–∞–Ω—Ç 4: –®–æ–ø–∏–Ω–≥-–¥–µ–Ω—å", duration: "3-4 —á–∞—Å–∞", description: "–¢–æ—Ä–≥–æ–≤—ã–µ —Ü–µ–Ω—Ç—Ä—ã (Istinye Park, Mall of Istanbul, Cevahir) –∏–ª–∏ –∞—É—Ç–ª–µ—Ç—ã" },
          { name: "–í–∞—Ä–∏–∞–Ω—Ç 5: –í—Ç–æ—Ä–æ–π —à–∞–Ω—Å", duration: "2-3 —á–∞—Å–∞", description: "–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ª—é–±–∏–º—ã–º –º–µ—Å—Ç–∞–º –∏–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ, —á—Ç–æ –Ω–µ —É—Å–ø–µ–ª–∏ —Ä–∞–Ω–µ–µ" },
          { name: "–í–∞—Ä–∏–∞–Ω—Ç 6: –ë–∞–Ω–Ω—ã–π –¥–µ–Ω—å (—Ö–∞–º–∞–º)", duration: "2 —á–∞—Å–∞", description: "–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π —Ç—É—Ä–µ—Ü–∫–∏–π —Ö–∞–º–∞–º –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞" }
        ]
      },
      {
        day: "–î–µ–Ω—å 7 (–ß–µ—Ç–≤–µ—Ä–≥, 19.02)",
        title: "–î–æ—Ä–æ–≥–∞ –¥–æ–º–æ–π",
        emoji: "üõÑ",
        route: "–ó–∞–≤—Ç—Ä–∞–∫ ‚Üí –í—ã—Å–µ–ª–µ–Ω–∏–µ ‚Üí –¢—Ä–∞–Ω—Å—Ñ–µ—Ä –≤ –∞—ç—Ä–æ–ø–æ—Ä—Ç ‚Üí –í—ã–ª–µ—Ç –≤ –ú–∏–Ω—Å–∫",
        attractions: [
          { name: "–ó–∞–≤—Ç—Ä–∞–∫ –∏ —Å–±–æ—Ä—ã", duration: "8:30-10:00", description: "–ü–æ–¥—ä–µ–º –≤ 8:30, –∑–∞–≤—Ç—Ä–∞–∫, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –≤—ã–µ–∑–¥—É" },
          { name: "–í—ã–µ–∑–¥ –∏–∑ –æ—Ç–µ–ª—è", duration: "10:00", description: "–í—ã—Å–µ–ª–µ–Ω–∏–µ, —Ç–∞–∫—Å–∏ –¥–æ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞" },
          { name: "–î–æ—Ä–æ–≥–∞ –≤ –∞—ç—Ä–æ–ø–æ—Ä—Ç", duration: "10:30-12:00", description: "–¢—Ä–∞–Ω—Å—Ñ–µ—Ä –≤ –∞—ç—Ä–æ–ø–æ—Ä—Ç –°—Ç–∞–º–±—É–ª–∞" },
          { name: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—ã–ª–µ—Ç", duration: "12:00-15:50", description: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Ä–µ–π—Å, –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å, –≤—ã–ª–µ—Ç –≤ 15:50" },
          { name: "–ü—Ä–∏–ª–µ—Ç –≤ –ú–∏–Ω—Å–∫", duration: "~19:00", description: "–ü—Ä–∏–±—ã—Ç–∏–µ –¥–æ–º–æ–π, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è" }
        ]
      }
    ];

    const restaurants = [
      { name: "Karak√∂y Lokantasƒ±", rating: 4.9, priceLevel: 2, cuisine: "–¢—É—Ä–µ—Ü–∫–∞—è –∫—É—Ö–Ω—è", description: "–ê—É—Ç–µ–Ω—Ç–∏—á–Ω—ã–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω —Å –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ –∏ –º–µ–∑–µ –≤ –º–æ–¥–Ω–æ–º —Ä–∞–π–æ–Ω–µ –ö–∞—Ä–∞–∫—ë–π", neighborhood: "–ö–∞—Ä–∞–∫—ë–π", mapUrl: "https://maps.google.com/?q=Karakoy+Lokantasi,+Istanbul", mustTry: "–õ–∞–≤—Ä–∞–∫ –Ω–∞ –≥—Ä–∏–ª–µ" },
      { name: "√áiya Sofrasƒ±", rating: 4.9, priceLevel: 1, cuisine: "–ê–Ω–∞—Ç–æ–ª–∏–π—Å–∫–∞—è –∫—É—Ö–Ω—è", description: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ –º–µ—Å—Ç–æ —Å –±–ª—é–¥–∞–º–∏ —Å–æ –≤—Å–µ–π –¢—É—Ä—Ü–∏–∏. –ë—é–¥–∂–µ—Ç–Ω—ã–µ —Ü–µ–Ω—ã", neighborhood: "–ö–∞–¥—ã–∫—ë–π", mapUrl: "https://maps.google.com/?q=Ciya+Sofrasi,+Kadikoy,+Istanbul", mustTry: "–ö–µ–±–∞–± –∏–∑ –±–∞—Ä–∞–Ω–∏–Ω—ã" },
      { name: "Hafiz Mustafa 1864", rating: 4.9, priceLevel: 2, cuisine: "–î–µ—Å–µ—Ä—Ç—ã –∏ —Å–ª–∞–¥–æ—Å—Ç–∏", description: "–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∞—è —Å –ª—É—á—à–∏–º —Ç—É—Ä–µ—Ü–∫–∏–º –¥–µ—Å–µ—Ä—Ç–∞–º–∏ –∏ —á–∞–µ–º", neighborhood: "–°—É–ª—Ç–∞–Ω–∞—Ö–º–µ—Ç / –≠–º–∏–Ω—ë–Ω—é", mapUrl: "https://maps.google.com/?q=Hafiz+Mustafa,+Istanbul", mustTry: "–ë–∞–∫–ª–∞–≤–∞ –∏ —Ç—É—Ä–µ—Ü–∫–∏–π –∫–æ—Ñ–µ" },
      { name: "Sultanahmet K√∂ftecisi", rating: 4.9, priceLevel: 1, cuisine: "–¢—É—Ä–µ—Ü–∫–∏–µ –∫—ë—Ñ—Ç–µ", description: "–° 1920 –≥–æ–¥–∞ ‚Äî –∫—É–ª—å—Ç–æ–≤—ã–µ –∫—ë—Ñ—Ç–µ –≤ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–º —Ü–µ–Ω—Ç—Ä–µ", neighborhood: "–°—É–ª—Ç–∞–Ω–∞—Ö–º–µ—Ç", mapUrl: "https://maps.google.com/?q=Sultanahmet+Koftecisi,+Istanbul", mustTry: "–ö—ë—Ñ—Ç–µ —Å –ø–∏–ª–∞–≤–æ–º" },
      { name: "Tarihi Karak√∂y Balƒ±k√ßƒ±sƒ±", rating: 4.9, priceLevel: 2, cuisine: "–ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã", description: "–°–≤–µ–∂–∞–π—à–∏–µ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã –ø—Ä—è–º–æ —É –ì–∞–ª–∞—Ç—Å–∫–æ–≥–æ –º–æ—Å—Ç–∞", neighborhood: "–ö–∞—Ä–∞–∫—ë–π", mapUrl: "https://maps.google.com/?q=Tarihi+Karakoy+Balikcisi,+Istanbul", mustTry: "–ñ–∞—Ä–µ–Ω–∞—è —Ä—ã–±–∞ –±–∞–ª—ã–∫ —ç–∫–º–µ–∫" },
      { name: "Durumzade", rating: 4.9, priceLevel: 1, cuisine: "–£–ª–∏—á–Ω–∞—è –µ–¥–∞", description: "–õ—É—á—à–∏–µ –¥—é—Ä—é–º—ã –≤ –≥–æ—Ä–æ–¥–µ –ø–æ –Ω–∞—Ä–æ–¥–Ω–æ–º—É –º–Ω–µ–Ω–∏—é", neighborhood: "–¢–∞–∫—Å–∏–º", mapUrl: "https://maps.google.com/?q=Durumzade,+Istanbul", mustTry: "–ê–¥–∞–Ω–∞ –¥—é—Ä—é–º" },
      { name: "Pandeli Restaurant", rating: 4.9, priceLevel: 2, cuisine: "–û—Å–º–∞–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è", description: "–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω –Ω–∞–¥ –ï–≥–∏–ø–µ—Ç—Å–∫–∏–º –±–∞–∑–∞—Ä–æ–º —Å 1901 –≥–æ–¥–∞", neighborhood: "–≠–º–∏–Ω—ë–Ω—é", mapUrl: "https://maps.google.com/?q=Pandeli+Restaurant,+Istanbul", mustTry: "–ö—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞ –≤ —Å–æ—É—Å–µ" },
      { name: "Balƒ±k√ßƒ± Sabahattin", rating: 4.9, priceLevel: 2, cuisine: "–ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã", description: "–°–µ–º–µ–π–Ω—ã–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ —Å—Ç–∞—Ä–∏–Ω–Ω–æ–º –¥–æ–º–µ", neighborhood: "–°—É–ª—Ç–∞–Ω–∞—Ö–º–µ—Ç", mapUrl: "https://maps.google.com/?q=Balikci+Sabahattin,+Istanbul", mustTry: "–ú–µ–∑–µ –∏ —Ä—ã–±–∞ –¥–Ω—è" },
      { name: "K√∂fteci Arnavut", rating: 4.9, priceLevel: 1, cuisine: "–ö—ë—Ñ—Ç–µ", description: "–ü—Ä–æ—Å—Ç–æ–µ –∏ –≤–∫—É—Å–Ω–æ–µ ‚Äî —Ç–æ–ª—å–∫–æ –∫—ë—Ñ—Ç–µ –∏ —Å–∞–ª–∞—Ç", neighborhood: "–ë–∞–ª–∞—Ç", mapUrl: "https://maps.google.com/?q=Kofteci+Arnavut,+Balat,+Istanbul", mustTry: "–ê—Ä–Ω–∞–≤—É—Ç –∫—ë—Ñ—Ç–µ—Å–∏" },
      { name: "Ortak√∂y Kumpir", rating: 4.9, priceLevel: 1, cuisine: "–£–ª–∏—á–Ω–∞—è –µ–¥–∞", description: "–†—è–¥ –∫–∏–æ—Å–∫–æ–≤ —Å –≥–∏–≥–∞–Ω—Ç—Å–∫–æ–π –ø–µ—á—ë–Ω–æ–π –∫–∞—Ä—Ç–æ—à–∫–æ–π", neighborhood: "–û—Ä—Ç–∞–∫—ë–π", mapUrl: "https://maps.google.com/?q=Ortakoy+Kumpir,+Istanbul", mustTry: "–ö—É–º–ø–∏—Ä —Å–æ –≤—Å–µ–º–∏ –Ω–∞—á–∏–Ω–∫–∞–º–∏" }
    ];

    const shops = [
      { name: "Migros", type: "–°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç", description: "–ö—Ä—É–ø–Ω–∞—è —Ç—É—Ä–µ—Ü–∫–∞—è —Å–µ—Ç—å —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç–æ–≤. –ï—Å—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ Jet (–º–∏–Ω–∏), M, MM, MMM (–≥–∏–ø–µ—Ä–º–∞—Ä–∫–µ—Ç)", neighborhood: "–ü–æ –≤—Å–µ–º—É –≥–æ—Ä–æ–¥—É", hours: "08:00 - 23:00", mapUrl: "https://maps.google.com/?q=Migros+Sultanahmet,+Istanbul", tip: "–ò—â–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç M Migros –¥–ª—è —Ö–æ—Ä–æ—à–µ–≥–æ –≤—ã–±–æ—Ä–∞" },
      { name: "Carrefoursa", type: "–°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç", description: "–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è —Å–µ—Ç—å —Å —à–∏—Ä–æ–∫–∏–º –≤—ã–±–æ—Ä–æ–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ –±—ã—Ç–æ–≤–æ–π —Ö–∏–º–∏–∏", neighborhood: "–¢–æ—Ä–≥–æ–≤—ã–µ —Ü–µ–Ω—Ç—Ä—ã", hours: "10:00 - 22:00", mapUrl: "https://maps.google.com/?q=Carrefoursa+Istanbul", tip: "–ß–∞—Å—Ç–æ –µ—Å—Ç—å —Å–∫–∏–¥–∫–∏ –Ω–∞ –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–µ —Ç–æ–≤–∞—Ä—ã" },
      { name: "A101", type: "–î–∏—Å–∫–∞—É–Ω—Ç–µ—Ä", description: "–°–∞–º—ã–µ –Ω–∏–∑–∫–∏–µ —Ü–µ–Ω—ã –≤ –≥–æ—Ä–æ–¥–µ. –ë–∞–∑–æ–≤—ã–π –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç, –Ω–æ –æ—á–µ–Ω—å –¥—ë—à–µ–≤–æ", neighborhood: "–ü–æ –≤—Å–µ–º—É –≥–æ—Ä–æ–¥—É", hours: "08:30 - 22:00", mapUrl: "https://maps.google.com/?q=A101+Sultanahmet,+Istanbul", tip: "–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –≤–æ–¥—ã, —Å–Ω–µ–∫–æ–≤ –∏ –±–∞–∑–æ–≤—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤" },
      { name: "Bƒ∞M", type: "–î–∏—Å–∫–∞—É–Ω—Ç–µ—Ä", description: "–ï—â—ë –æ–¥–∏–Ω –±—é–¥–∂–µ—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Ç–æ—Ä–≥–æ–≤—ã–º–∏ –º–∞—Ä–∫–∞–º–∏", neighborhood: "–ü–æ –≤—Å–µ–º—É –≥–æ—Ä–æ–¥—É", hours: "08:30 - 22:00", mapUrl: "https://maps.google.com/?q=BIM+Istanbul", tip: "–û—Ç–ª–∏—á–Ω—ã–µ —Ü–µ–Ω—ã –Ω–∞ –æ—Ä–µ—Ö–∏ –∏ —Å—É—Ö–æ—Ñ—Ä—É–∫—Ç—ã" },
      { name: "≈ûOK", type: "–î–∏—Å–∫–∞—É–Ω—Ç–µ—Ä", description: "–î–∏—Å–∫–∞—É–Ω—Ç–µ—Ä —Å —É–¥–æ–±–Ω—ã–º–∏ –º–∞–ª–µ–Ω—å–∫–∏–º–∏ –º–∞–≥–∞–∑–∏–Ω–∞–º–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —É–≥–ª—É", neighborhood: "–ü–æ –≤—Å–µ–º—É –≥–æ—Ä–æ–¥—É", hours: "08:30 - 22:30", mapUrl: "https://maps.google.com/?q=SOK+Market+Istanbul", tip: "–•–æ—Ä–æ—à–∏–µ —Ü–µ–Ω—ã –Ω–∞ –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã" },
      { name: "Makromarket", type: "–°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç", description: "–°—Ä–µ–¥–Ω–∏–π —Å–µ–≥–º–µ–Ω—Ç —Å —Ö–æ—Ä–æ—à–∏–º –≤—ã–±–æ—Ä–æ–º —Ç—É—Ä–µ—Ü–∫–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤", neighborhood: "–†–∞–∑–ª–∏—á–Ω—ã–µ —Ä–∞–π–æ–Ω—ã", hours: "08:00 - 23:00", mapUrl: "https://maps.google.com/?q=Makromarket+Istanbul" },
      { name: "–ï–≥–∏–ø–µ—Ç—Å–∫–∏–π –±–∞–∑–∞—Ä (–°–ø–µ—Ü–∏–∏)", type: "–†—ã–Ω–æ–∫", description: "–°–ø–µ—Ü–∏–∏, —á–∞–π, —Ç—É—Ä–µ—Ü–∫–∏–µ —Å–ª–∞–¥–æ—Å—Ç–∏, —Å—É—Ö–æ—Ñ—Ä—É–∫—Ç—ã ‚Äî –æ—Ç–ª–∏—á–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏", neighborhood: "–≠–º–∏–Ω—ë–Ω—é", hours: "08:00 - 19:00", mapUrl: "https://maps.google.com/?q=Spice+Bazaar+Istanbul", tip: "–¢–æ—Ä–≥—É–π—Ç–µ—Å—å! –ú–æ–∂–Ω–æ —Å–±–∏—Ç—å —Ü–µ–Ω—É –Ω–∞ 30-50%" },
      { name: "Kadƒ±k√∂y Pazarƒ±", type: "–§–µ—Ä–º–µ—Ä—Å–∫–∏–π —Ä—ã–Ω–æ–∫", description: "–õ—É—á—à–∏–π –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π —Ä—ã–Ω–æ–∫ –≥–æ—Ä–æ–¥–∞ ‚Äî —Å–≤–µ–∂–∏–µ –æ–≤–æ—â–∏, —Ñ—Ä—É–∫—Ç—ã, —Å—ã—Ä—ã", neighborhood: "–ö–∞–¥—ã–∫—ë–π (–∞–∑–∏–∞—Ç—Å–∫–∞—è —Å—Ç–æ—Ä–æ–Ω–∞)", hours: "07:00 - 19:00 (–≤—Ç)", mapUrl: "https://maps.google.com/?q=Kadikoy+Market,+Istanbul", tip: "–†–∞–±–æ—Ç–∞–µ—Ç –ø–æ –≤—Ç–æ—Ä–Ω–∏–∫–∞–º. –°—Ç–æ–∏—Ç –ø–æ–µ–∑–¥–∫–∏ –Ω–∞ –ø–∞—Ä–æ–º–µ!" },
      { name: "–°–µ—Ç–∏ –º–∞–≥–∞–∑–∏–Ω–æ–≤ –≤–æ–¥—ã", type: "–í–æ–¥–∞", description: "Erikli, Hayat, Damla ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ –±—Ä–µ–Ω–¥—ã –ø–∏—Ç—å–µ–≤–æ–π –≤–æ–¥—ã", neighborhood: "–í–µ–∑–¥–µ", hours: "–ö—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ –≤ –º–∞—Ä–∫–µ—Ç–∞—Ö", mapUrl: "https://maps.google.com/?q=Istanbul", tip: "5L –±—É—Ç—ã–ª–∫–∞ ‚âà 15-25 TRY –≤ –¥–∏—Å–∫–∞—É–Ω—Ç–µ—Ä–∞—Ö" }
    ];

    const categories = {
      food: { label: "–ï–¥–∞", emoji: "üçΩÔ∏è" },
      transport: { label: "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç", emoji: "üöå" },
      tickets: { label: "–ë–∏–ª–µ—Ç—ã", emoji: "üé´" },
      shopping: { label: "–ü–æ–∫—É–ø–∫–∏", emoji: "üõçÔ∏è" },
      accommodation: { label: "–ñ–∏–ª—å—ë", emoji: "üè®" },
      other: { label: "–î—Ä—É–≥–æ–µ", emoji: "üìù" }
    };

    const currencySymbols = { TRY: "‚Ç∫", BYN: "Br", EUR: "‚Ç¨", USD: "$" };
    const toBYN = { TRY: 0.065, BYN: 1, EUR: 3.5, USD: 3.2 };
    const ratesFromTRY = { TRY: 1, BYN: 0.065, EUR: 0.032, USD: 0.035 };

    // ============= STATE =============
    let visited = JSON.parse(localStorage.getItem('istanbul-visited') || '{}');
    let expenses = [];
    let expandedDay = 0;
    let selectedCategory = 'food';
    let userId = localStorage.getItem('istanbul-user-id') || generateUserId();
    let isLoading = false;

    // ============= UTILITY FUNCTIONS =============
    function generateUserId() {
      const id = 'user_' + Math.random().toString(36).substr(2, 9);
      localStorage.setItem('istanbul-user-id', id);
      return id;
    }

    function showToast(message, type = 'success') {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.className = `toast ${type}`;
      toast.style.display = 'flex';
      
      setTimeout(() => {
        toast.style.display = 'none';
      }, 3000);
    }

    function setLoading(loading) {
      isLoading = loading;
      const submitBtn = document.getElementById('submit-expense');
      if (submitBtn) {
        submitBtn.disabled = loading;
        submitBtn.innerHTML = loading ? 
          '<div class="loader" style="width: 20px; height: 20px;"></div>' : 
          '–î–æ–±–∞–≤–∏—Ç—å';
      }
    }

    // ============= PAGE NAVIGATION =============
    function showPage(pageName) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
      
      const pageElement = document.getElementById('page-' + pageName);
      const navElement = document.querySelector(`.nav-item[data-page="${pageName}"]`);
      
      if (pageElement) {
        pageElement.classList.add('active');
      }
      if (navElement) {
        navElement.classList.add('active');
      }
      
      window.scrollTo(0, 0);
      
      // –ï—Å–ª–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–∞—Å—Ö–æ–¥–æ–≤, –∑–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã
      if (pageName === 'expenses') {
        loadExpensesFromDB();
      }
    }

    // ============= GUIDE PAGE =============
    function renderDays() {
      const container = document.getElementById('day-list');
      if (!container) return;
      
      container.innerHTML = travelDays.map((day, dayIndex) => {
        const visitedCount = day.attractions.filter((_, i) => visited[`${dayIndex}-${i}`]).length;
        const progress = (visitedCount / day.attractions.length) * 100;
        const isExpanded = expandedDay === dayIndex;

        return `
          <div class="day-card ${isExpanded ? 'expanded' : ''}" data-day="${dayIndex}">
            <div class="day-header" onclick="toggleDay(${dayIndex})">
              <div class="day-header-left">
                <span class="emoji">${day.emoji}</span>
                <div>
                  <p class="day-label">${day.day}</p>
                  <p class="day-title">${day.title}</p>
                </div>
              </div>
              <div class="day-header-right">
                <div class="day-progress-text">
                  <p class="label">–ü–æ—Å–µ—â–µ–Ω–æ</p>
                  <p class="value">${visitedCount}/${day.attractions.length}</p>
                </div>
                <svg class="chevron" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>
              </div>
            </div>
            <div class="day-progress-bar"><div class="fill" style="width: ${progress}%"></div></div>
            <div class="day-content">
              <div class="route-box">
                <p class="route-label">üó∫Ô∏è –ú–∞—Ä—à—Ä—É—Ç</p>
                <p class="route-text">${day.route}</p>
              </div>
              ${day.attractions.map((attr, attrIndex) => {
                const isVisited = visited[`${dayIndex}-${attrIndex}`];
                return `
                  <div class="attraction ${isVisited ? 'visited' : ''}">
                    <div class="attraction-checkbox" onclick="toggleVisited(${dayIndex}, ${attrIndex})">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <div class="attraction-content">
                      <p class="attraction-name">${attr.name}</p>
                      <div class="attraction-meta">
                        <span style="display: flex; align-items: center; gap: 4px;">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                          ${attr.duration}
                        </span>
                      </div>
                      ${attr.description ? `<p class="attraction-desc">${attr.description}</p>` : ''}
                      ${attr.mapUrl ? `<a href="${attr.mapUrl}" target="_blank" class="attraction-link">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                        –û—Ç–∫—Ä—ã—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></svg>
                      </a>` : ''}
                    </div>
                  </div>
                `;
              }).join('')}
            </div>
          </div>
        `;
      }).join('');
    }

    function toggleDay(dayIndex) {
      expandedDay = expandedDay === dayIndex ? -1 : dayIndex;
      renderDays();
    }

    function toggleVisited(dayIndex, attrIndex) {
      const key = `${dayIndex}-${attrIndex}`;
      visited[key] = !visited[key];
      localStorage.setItem('istanbul-visited', JSON.stringify(visited));
      renderDays();
    }

    // ============= RESTAURANTS PAGE =============
    function renderRestaurants() {
      const container = document.getElementById('restaurants-list');
      if (!container) return;
      
      container.innerHTML = restaurants.map(r => `
        <div class="list-card">
          <div class="list-card-header">
            <div>
              <h3 class="list-card-title">${r.name}</h3>
              <p class="list-card-subtitle">${r.cuisine}</p>
            </div>
            <div class="rating-badge">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
              ${r.rating}
            </div>
          </div>
          <p class="list-card-desc">${r.description}</p>
          ${r.mustTry ? `<div class="must-try"><span style="font-weight: 500;">üçΩÔ∏è –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å: </span>${r.mustTry}</div>` : ''}
          <div class="list-card-footer">
            <div class="list-card-tags">
              <span class="tag">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                ${r.neighborhood}
              </span>
              <span class="price-tag">${'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>'.repeat(r.priceLevel)}</span>
            </div>
            <a href="${r.mapUrl}" target="_blank" class="map-link">
              –ù–∞ –∫–∞—Ä—Ç–µ
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></svg>
            </a>
          </div>
        </div>
      `).join('');
    }

    // ============= SHOPS PAGE =============
    function renderShops() {
      const container = document.getElementById('shops-list');
      if (!container) return;
      
      container.innerHTML = shops.map(s => `
        <div class="list-card">
          <div class="list-card-header">
            <div class="list-card-header-with-icon">
              <div class="shop-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
              </div>
              <div>
                <h3 class="list-card-title">${s.name}</h3>
                <p class="list-card-subtitle">${s.type}</p>
              </div>
            </div>
          </div>
          <p class="list-card-desc">${s.description}</p>
          ${s.tip ? `<div class="tip-box"><span style="font-weight: 500;">üí° –°–æ–≤–µ—Ç: </span>${s.tip}</div>` : ''}
          <div class="list-card-footer">
            <div class="list-card-tags" style="font-size: 0.75rem; color: var(--muted-foreground);">
              <span style="display: flex; align-items: center; gap: 4px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                ${s.neighborhood}
              </span>
              <span style="display: flex; align-items: center; gap: 4px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                ${s.hours}
              </span>
            </div>
            <a href="${s.mapUrl}" target="_blank" class="map-link">
              –ù–∞ –∫–∞—Ä—Ç–µ
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></svg>
            </a>
          </div>
        </div>
      `).join('');
    }

    // ============= CONVERTER PAGE =============
    function setupConverter() {
      const quickAmounts = [50, 100, 200, 500, 1000];
      const container = document.getElementById('quick-amounts');
      if (!container) return;
      
      container.innerHTML = quickAmounts.map(a => 
        `<button class="quick-btn ${a === 100 ? 'active' : ''}" onclick="setAmount(${a})">${a}</button>`
      ).join('');

      const calcAmount = document.getElementById('calc-amount');
      const fromCurrency = document.getElementById('from-currency');
      const toCurrency = document.getElementById('to-currency');
      
      if (calcAmount && fromCurrency && toCurrency) {
        calcAmount.addEventListener('input', updateConverter);
        fromCurrency.addEventListener('change', updateConverter);
        toCurrency.addEventListener('change', updateConverter);
        updateConverter();
      }
    }

    function setAmount(amount) {
      const calcAmount = document.getElementById('calc-amount');
      if (!calcAmount) return;
      
      calcAmount.value = amount;
      document.querySelectorAll('.quick-btn').forEach(btn => {
        btn.classList.toggle('active', btn.textContent == amount);
      });
      updateConverter();
    }

    function swapCurrencies() {
      const from = document.getElementById('from-currency');
      const to = document.getElementById('to-currency');
      if (!from || !to) return;
      
      const temp = from.value;
      from.value = to.value;
      to.value = temp;
      updateConverter();
    }

    function updateConverter() {
      const amount = parseFloat(document.getElementById('calc-amount')?.value) || 0;
      const from = document.getElementById('from-currency')?.value || 'TRY';
      const to = document.getElementById('to-currency')?.value || 'BYN';
      const resultValue = document.getElementById('result-value');
      const resultDetail = document.getElementById('result-detail');
      
      if (!resultValue || !resultDetail) return;

      const inTRY = amount / ratesFromTRY[from];
      const result = inTRY * ratesFromTRY[to];

      resultValue.textContent = `${currencySymbols[to]} ${result.toFixed(2)}`;
      resultDetail.textContent = `${amount.toFixed(2)} ${currencySymbols[from]} = ${result.toFixed(2)} ${currencySymbols[to]}`;
    }

    // ============= EXPENSES PAGE - SUPABASE =============
    async function loadExpensesFromDB() {
      try {
        const { data, error } = await supabase
          .from('expenses')
          .select('*')
          .eq('user_id', userId)
          .order('date', { ascending: false })
          .order('created_at', { ascending: false });

        if (error) throw error;

        expenses = data || [];
        renderExpenses();
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤:', error);
        showToast('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤', 'error');
      }
    }

    async function addExpenseToDB(expense) {
      try {
        setLoading(true);
        
        const { data, error } = await supabase
          .from('expenses')
          .insert({
            user_id: userId,
            date: expense.date,
            amount: expense.amount,
            currency: expense.currency,
            category: expense.category,
            description: expense.description,
            created_at: new Date().toISOString()
          })
          .select()
          .single();

        if (error) throw error;

        expenses.unshift(data);
        renderExpenses();
        closeModal();
        showToast('–†–∞—Å—Ö–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω');
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–∞:', error);
        showToast('–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–∞', 'error');
      } finally {
        setLoading(false);
      }
    }

    async function deleteExpenseFromDB(id) {
      try {
        const { error } = await supabase
          .from('expenses')
          .delete()
          .eq('id', id)
          .eq('user_id', userId);

        if (error) throw error;

        expenses = expenses.filter(e => e.id !== id);
        renderExpenses();
        showToast('–†–∞—Å—Ö–æ–¥ —É–¥–∞–ª–µ–Ω');
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–∞:', error);
        showToast('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–∞', 'error');
      }
    }

    function renderExpenses() {
      const totalSpent = document.getElementById('total-spent');
      const categoryBreakdown = document.getElementById('category-breakdown');
      const expensesList = document.getElementById('expenses-list');
      
      if (!totalSpent || !categoryBreakdown || !expensesList) return;
      
      const totalBYN = expenses.reduce((sum, e) => sum + e.amount * toBYN[e.currency], 0);
      totalSpent.textContent = `${totalBYN.toFixed(2)} BYN`;

      // Category breakdown
      const byCategory = expenses.reduce((acc, e) => {
        if (!acc[e.category]) acc[e.category] = 0;
        acc[e.category] += e.amount * toBYN[e.currency];
        return acc;
      }, {});

      categoryBreakdown.innerHTML = Object.entries(byCategory)
        .map(([cat, amount]) => `<span class="category-tag ${cat}">${categories[cat].emoji} ${amount.toFixed(0)} BYN</span>`)
        .join('');

      // Group by date
      const byDate = expenses.reduce((acc, e) => {
        if (!acc[e.date]) acc[e.date] = [];
        acc[e.date].push(e);
        return acc;
      }, {});

      const sortedDates = Object.keys(byDate).sort((a, b) => new Date(b) - new Date(a));

      if (sortedDates.length === 0) {
        expensesList.innerHTML = `
          <div class="empty-state">
            <p>–ü–æ–∫–∞ –Ω–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤</p>
            <button class="empty-btn" onclick="openModal()">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
              –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–π —Ä–∞—Å—Ö–æ–¥
            </button>
          </div>
        `;
        return;
      }

      expensesList.innerHTML = sortedDates.map(date => `
        <div class="expense-date-group">
          <p class="expense-date">${formatDate(date)}</p>
          ${byDate[date].map(e => `
            <div class="expense-item">
              <div class="expense-left">
                <div class="expense-icon category-tag ${e.category}">${categories[e.category].emoji}</div>
                <div>
                  <p class="expense-amount">${currencySymbols[e.currency]} ${e.amount.toFixed(2)}</p>
                  <p class="expense-desc">${e.description || categories[e.category].label}</p>
                </div>
              </div>
              <button class="delete-btn" onclick="deleteExpense('${e.id}')">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>
              </button>
            </div>
          `).join('')}
        </div>
      `).join('');
    }

    function formatDate(dateStr) {
      const date = new Date(dateStr);
      const days = ['–≤—Å', '–ø–Ω', '–≤—Ç', '—Å—Ä', '—á—Ç', '–ø—Ç', '—Å–±'];
      const months = ['—è–Ω–≤', '—Ñ–µ–≤', '–º–∞—Ä', '–∞–ø—Ä', '–º–∞–π', '–∏—é–Ω', '–∏—é–ª', '–∞–≤–≥', '—Å–µ–Ω', '–æ–∫—Ç', '–Ω–æ—è', '–¥–µ–∫'];
      return `${days[date.getDay()]}, ${date.getDate()} ${months[date.getMonth()]}`;
    }

    function openModal() {
      document.getElementById('expense-date').value = new Date().toISOString().split('T')[0];
      document.getElementById('expense-amount').value = '';
      document.getElementById('expense-currency').value = 'TRY';
      document.getElementById('expense-desc').value = '';
      selectedCategory = 'food';
      renderCategoryGrid();
      document.getElementById('expense-modal').classList.add('active');
    }

    function closeModal() {
      document.getElementById('expense-modal').classList.remove('active');
      setLoading(false);
    }

    function renderCategoryGrid() {
      const categoryGrid = document.getElementById('category-grid');
      if (!categoryGrid) return;
      
      categoryGrid.innerHTML = Object.entries(categories)
        .map(([key, val]) => `
          <button class="category-btn ${selectedCategory === key ? 'active' : ''}" onclick="selectCategory('${key}')">
            ${val.emoji} ${val.label}
          </button>
        `).join('');
    }

    function selectCategory(cat) {
      selectedCategory = cat;
      renderCategoryGrid();
    }

    function addExpense() {
      const amount = parseFloat(document.getElementById('expense-amount').value);
      if (!amount || amount <= 0) {
        showToast('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É', 'error');
        return;
      }

      const expense = {
        date: document.getElementById('expense-date').value,
        amount: amount,
        currency: document.getElementById('expense-currency').value,
        category: selectedCategory,
        description: document.getElementById('expense-desc').value
      };

      addExpenseToDB(expense);
    }

    function deleteExpense(id) {
      if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ä–∞—Å—Ö–æ–¥?')) {
        deleteExpenseFromDB(id);
      }
    }

    // ============= INIT =============
    document.addEventListener('DOMContentLoaded', () => {
      // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage
      try {
        const visitedData = localStorage.getItem('istanbul-visited');
        if (visitedData) visited = JSON.parse(visitedData);
      } catch (e) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage:', e);
      }
      
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      renderDays();
      renderRestaurants();
      renderShops();
      setupConverter();
      renderCategoryGrid();
      
      // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–∞—Å—Ö–æ–¥—ã –∏–∑ –±–∞–∑—ã
      loadExpensesFromDB();
      
      // –î–æ–±–∞–≤–ª—è–µ–º —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–≥–æ–¥—ã
      const script = document.createElement('script');
      script.async = true;
      script.src = '//nuipogoda.ru/informer/nuipogoda.js';
      document.body.appendChild(script);
    });
  </script>
</body>
</html>
