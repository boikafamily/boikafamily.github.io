<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Istanbul Guide | –≠–∫–æ–Ω–æ–º–Ω–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #E31E25;
            --primary-dark: #B91C22;
            --secondary: #1E3A8A;
            --accent: #F59E0B;
            --light: #F8FAFC;
            --dark: #0F172A;
            --success: #10B981;
            --warning: #F59E0B;
            --info: #3B82F6;
            --gray-100: #F1F5F9;
            --gray-200: #E2E8F0;
            --gray-300: #CBD5E1;
            --gray-400: #94A3B8;
            --gray-500: #64748B;
            --gray-600: #475569;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --radius: 16px;
            --radius-sm: 12px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--light);
            color: var(--dark);
            line-height: 1.6;
            overflow-x: hidden;
            padding-bottom: 80px;
        }
        
        h1, h2, h3, h4 {
            font-family: 'Playfair Display', serif;
            font-weight: 600;
        }
        
        .container {
            max-width: 100%;
            padding: 0 16px;
        }
        
        /* Bottom Navigation - –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            border-top: 1px solid var(--gray-200);
            z-index: 1000;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            text-decoration: none;
            color: var(--gray-500);
            font-size: 0.75rem;
            font-weight: 500;
            padding: 8px;
            border-radius: var(--radius-sm);
            transition: var(--transition);
            min-width: 60px;
        }
        
        .nav-item.active {
            color: var(--primary);
            background: rgba(227, 30, 37, 0.08);
        }
        
        .nav-icon {
            font-size: 1.2rem;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, var(--dark), var(--secondary));
            color: white;
            padding: 20px 0 16px;
            position: sticky;
            top: 0;
            z-index: 999;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2rem;
            font-weight: 700;
            color: white;
        }
        
        .logo-icon {
            color: var(--accent);
            font-size: 1.4rem;
        }
        
        .date-badge {
            background: rgba(255, 255, 255, 0.15);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            backdrop-filter: blur(10px);
        }
        
        /* Main Content */
        .main-content {
            padding: 16px 0;
        }
        
        /* –ö–∞—Ä—Ç–æ—á–∫–∏ */
        .card {
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: var(--shadow);
            border: 1px solid var(--gray-200);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }
        
        .day-badge {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1rem;
            flex-shrink: 0;
        }
        
        /* –¢–∞–π–º–ª–∞–π–Ω */
        .timeline {
            position: relative;
            padding-left: 20px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, var(--primary), var(--accent));
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 16px;
            padding: 12px;
            background: var(--gray-100);
            border-radius: var(--radius-sm);
            border-left: 4px solid var(--primary);
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -24px;
            top: 16px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--primary);
            border: 3px solid white;
            box-shadow: 0 0 0 3px var(--primary);
        }
        
        .time {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* –¢–µ–≥–∏ */
        .tag {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 6px 12px;
            background: var(--gray-200);
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            margin: 4px 4px 4px 0;
        }
        
        .tag.price { background: linear-gradient(135deg, var(--success), #059669); color: white; }
        .tag.transport { background: linear-gradient(135deg, var(--info), #2563EB); color: white; }
        .tag.food { background: linear-gradient(135deg, var(--warning), #D97706); color: white; }
        .tag.accommodation { background: linear-gradient(135deg, #8B5CF6, #7C3AED); color: white; }
        
        /* –ó–∞–º–µ—Ç–∫–∏ */
        .note {
            padding: 12px;
            border-radius: var(--radius-sm);
            margin: 12px 0;
            border-left: 4px solid;
            font-size: 0.9rem;
        }
        
        .note.tip { background: #ECFDF5; border-color: var(--success); color: #065F46; }
        .note.warning { background: #FEF3C7; border-color: var(--warning); color: #92400E; }
        .note.info { background: #E0F2FE; border-color: var(--info); color: #075985; }
        
        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 14px 20px;
            border-radius: var(--radius-sm);
            text-decoration: none;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            font-size: 1rem;
            margin: 8px 0;
        }
        
        .btn:hover, .btn:active {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }
        
        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
            width: auto;
        }
        
        /* –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä */
        .converter-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin: 16px 0;
        }
        
        .currency-card {
            background: white;
            border-radius: var(--radius-sm);
            padding: 16px;
            text-align: center;
            border: 2px solid var(--gray-200);
        }
        
        .currency-flag {
            font-size: 2rem;
            margin-bottom: 8px;
        }
        
        .currency-input {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--gray-300);
            border-radius: var(--radius-sm);
            font-size: 1.2rem;
            text-align: center;
            margin: 8px 0;
        }
        
        /* –§–æ—Ä–º–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ */
        .expense-form {
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 16px;
        }
        
        .form-group {
            margin-bottom: 16px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--gray-600);
        }
        
        .form-input, .form-select {
            width: 100%;
            padding: 14px;
            border: 2px solid var(--gray-300);
            border-radius: var(--radius-sm);
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(227, 30, 37, 0.1);
        }
        
        /* –°–ø–∏—Å–æ–∫ —Ä–∞—Å—Ö–æ–¥–æ–≤ */
        .expenses-list {
            margin-top: 20px;
        }
        
        .expense-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            background: white;
            border-radius: var(--radius-sm);
            margin-bottom: 8px;
            border-left: 4px solid var(--primary);
        }
        
        .expense-category {
            font-size: 0.9rem;
            color: var(--gray-500);
            margin-top: 4px;
        }
        
        .expense-amount {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--primary);
        }
        
        .total-expenses {
            position: sticky;
            bottom: 70px;
            background: white;
            padding: 16px;
            border-radius: var(--radius);
            margin: 16px 0;
            box-shadow: var(--shadow-lg);
            z-index: 999;
        }
        
        /* –í–∫–ª–∞–¥–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease-out;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* –ö–∞—Ä—Ç–æ—á–∫–∏ –µ–¥—ã */
        .food-card {
            background: white;
            border-radius: var(--radius-sm);
            overflow: hidden;
            margin-bottom: 12px;
            border: 1px solid var(--gray-200);
        }
        
        .food-card-header {
            padding: 12px;
            background: var(--gray-100);
            font-weight: 600;
        }
        
        .food-card-body {
            padding: 12px;
        }
        
        .food-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid var(--gray-200);
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideIn {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (min-width: 768px) {
            .container {
                max-width: 720px;
                margin: 0 auto;
            }
            
            .converter-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .bottom-nav {
                display: none;
            }
            
            body {
                padding-bottom: 0;
            }
        }
        
        /* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
        @media (max-width: 320px) {
            html {
                font-size: 14px;
            }
            
            .container {
                padding: 0 12px;
            }
            
            .card {
                padding: 16px;
            }
        }
        
        /* –£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –∫–∞—Å–∞–Ω–∏–π */
        .touch-target {
            min-height: 44px;
            min-width: 44px;
        }
        
        /* –°–∫—Ä—ã—Ç–∏–µ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ –Ω–∞ iOS */
        .no-scrollbar {
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }
        
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        
        /* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        .active-tab {
            transform: scale(0.98);
        }
        
        /* –õ–æ–∞–¥–µ—Ä */
        .loader {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2000;
        }
        
        /* Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .toast {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--dark);
            color: white;
            padding: 12px 20px;
            border-radius: var(--radius-sm);
            z-index: 2000;
            animation: slideIn 0.3s ease-out;
            display: none;
        }
        
        /* –ò–∫–æ–Ω–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π */
        .action-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--gray-100);
            color: var(--gray-600);
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .action-icon:hover, .action-icon:active {
            background: var(--primary);
            color: white;
        }
        
        /* –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä */
        .progress-bar {
            height: 6px;
            background: var(--gray-200);
            border-radius: 3px;
            overflow: hidden;
            margin: 8px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 3px;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container header-content">
            <div class="logo">
                <i class="fas fa-mosque logo-icon"></i>
                <span>Istanbul Guide</span>
            </div>
            <div class="date-badge">
                <i class="fas fa-calendar-alt"></i> 13-19.02.2026
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
            <div id="content-area">
                <!-- –î–µ–Ω—å 1 –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -->
            </div>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="#" class="nav-item active" data-page="day1">
            <i class="fas fa-route nav-icon"></i>
            <span>–ú–∞—Ä—à—Ä—É—Ç</span>
        </a>
        <a href="#" class="nav-item" data-page="transport">
            <i class="fas fa-subway nav-icon"></i>
            <span>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</span>
        </a>
        <a href="#" class="nav-item" data-page="expenses">
            <i class="fas fa-money-bill-wave nav-icon"></i>
            <span>–†–∞—Å—Ö–æ–¥—ã</span>
        </a>
        <a href="#" class="nav-item" data-page="converter">
            <i class="fas fa-calculator nav-icon"></i>
            <span>–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä</span>
        </a>
        <a href="#" class="nav-item" data-page="food">
            <i class="fas fa-utensils nav-icon"></i>
            <span>–ü–∏—Ç–∞–Ω–∏–µ</span>
        </a>
    </nav>

    <!-- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="toast" id="toast"></div>

    <!-- –®–∞–±–ª–æ–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü -->
    <template id="day1-template">
        <div class="card">
            <div class="card-header">
                <div>
                    <h2>–î–µ–Ω—å 1: –ü—è—Ç–Ω–∏—Ü–∞, 13.02</h2>
                    <p style="color: var(--primary); margin-top: 4px;">–ü—Ä–∏–ª–µ—Ç –∏ –∑–∞—Å–µ–ª–µ–Ω–∏–µ</p>
                </div>
                <div class="day-badge">1</div>
            </div>
            
            <div class="timeline">
                <div class="timeline-item">
                    <div class="time">
                        <i class="fas fa-plane-departure"></i> 09:10 - 14:50
                    </div>
                    <p>–í—ã–ª–µ—Ç –∏–∑ –ú–∏–Ω—Å–∫–∞, –ø—Ä–∏–ª–µ—Ç –≤ –°—Ç–∞–º–±—É–ª (–∞—ç—Ä–æ–ø–æ—Ä—Ç SAW)</p>
                    <div class="tag price">
                        <i class="fas fa-tag"></i> –ü–µ—Ä–µ–ª–µ—Ç
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="time">
                        <i class="fas fa-bus"></i> 15:50 - 17:30
                    </div>
                    <p>–¢—Ä–∞–Ω—Å—Ñ–µ—Ä –≤ –æ—Ç–µ–ª—å: Havabus –¥–æ –¢–∞–∫—Å–∏–º ‚Üí –º–µ—Ç—Ä–æ M2 –¥–æ Vezneciler</p>
                    <div class="tag transport">
                        <i class="fas fa-subway"></i> ~90 TL
                    </div>
                    <a href="https://maps.app.goo.gl/" target="_blank" style="display: inline-flex; align-items: center; gap: 4px; color: var(--primary); margin-top: 8px;">
                        <i class="fas fa-map-marked-alt"></i> –ú–∞—Ä—à—Ä—É—Ç –Ω–∞ –∫–∞—Ä—Ç–µ
                    </a>
                </div>
                
                <div class="timeline-item">
                    <div class="time">
                        <i class="fas fa-hotel"></i> 17:30 - 18:00
                    </div>
                    <p>–ó–∞—Å–µ–ª–µ–Ω–∏–µ –≤ –æ—Ç–µ–ª—å Gloria Suites Old City</p>
                    <a href="https://maps.google.com/?q=Gloria+Suites+Old+City+Istanbul" target="_blank" style="display: inline-flex; align-items: center; gap: 4px; color: var(--primary); margin-top: 8px;">
                        <i class="fas fa-map-marker-alt"></i> –ê–¥—Ä–µ—Å –æ—Ç–µ–ª—è
                    </a>
                </div>
                
                <div class="timeline-item">
                    <div class="time">
                        <i class="fas fa-utensils"></i> 18:00 - 19:00
                    </div>
                    <p>–£–∂–∏–Ω: McDonald's –∏–ª–∏ –º–µ—Å—Ç–Ω–∞—è –ø–µ–∫–∞—Ä–Ω—è</p>
                    <div class="tag food">
                        <i class="fas fa-utensil-spoon"></i> ~50-100 TL
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="time">
                        <i class="fas fa-walking"></i> 19:00 - 22:00
                    </div>
                    <p>–í–µ—á–µ—Ä–Ω—è—è –ø—Ä–æ–≥—É–ª–∫–∞ –∫ –ì–æ–ª—É–±–æ–π –º–µ—á–µ—Ç–∏ –∏ –ø–ª–æ—â–∞–¥–∏ –°—É–ª—Ç–∞–Ω–∞—Ö–º–µ—Ç</p>
                    <a href="https://maps.google.com/?q=Sultanahmet+Istanbul" target="_blank" style="display: inline-flex; align-items: center; gap: 4px; color: var(--primary); margin-top: 8px;">
                        <i class="fas fa-map-marked-alt"></i> –ù–∞ –∫–∞—Ä—Ç–µ
                    </a>
                </div>
            </div>
            
            <div class="note tip">
                <i class="fas fa-lightbulb"></i> <strong>–°–æ–≤–µ—Ç:</strong> –ü–æ—Å–ª–µ –∑–∞—Å–µ–ª–µ–Ω–∏—è –∫—É–ø–∏—Ç–µ Istanbulkart –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞.
            </div>
            
            <div style="display: flex; gap: 12px; margin-top: 16px;">
                <button class="btn btn-outline btn-small" onclick="addExpense('–¢—Ä–∞–Ω—Å—Ñ–µ—Ä –∏–∑ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞', 90, '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç')">
                    <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥
                </button>
                <button class="btn btn-small" onclick="loadPage('day2')">
                    –°–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </template>

    <template id="day2-template">
        <div class="card">
            <div class="card-header">
                <div>
                    <h2>–î–µ–Ω—å 2: –°—É–±–±–æ—Ç–∞, 14.02</h2>
                    <p style="color: var(--primary); margin-top: 4px;">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –°—É–ª—Ç–∞–Ω–∞—Ö–º–µ—Ç</p>
                </div>
                <div class="day-badge">2</div>
            </div>
            
            <div class="timeline">
                <div class="timeline-item">
                    <div class="time">
                        <i class="fas fa-coffee"></i> –ó–∞–≤—Ç—Ä–∞–∫
                    </div>
                    <p>–ü–µ–∫–∞—Ä–Ω—è –Ω–∞ —É–ª–∏—Ü–µ Divan Yolu: —Å–∏–º–∏—Ç (–±—É–±–ª–∏–∫) + —á–∞–π</p>
                    <div class="tag food">
                        <i class="fas fa-bread-slice"></i> ~15-30 TL
                    </div>
                    <button class="btn btn-outline btn-small" style="margin-top: 8px; padding: 6px 12px;" onclick="addExpense('–ó–∞–≤—Ç—Ä–∞–∫', 25, '–ï–¥–∞')">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å
                    </button>
                </div>
                
                <div class="timeline-item">
                    <div class="time">
                        <i class="fas fa-monument"></i> 09:00 - 13:00
                    </div>
                    <p><strong>–ì–æ–ª—É–±–∞—è –º–µ—á–µ—Ç—å</strong> (–±–µ—Å–ø–ª–∞—Ç–Ω–æ) ‚Üí <strong>–ê–π—è-–°–æ—Ñ–∏—è</strong> (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)</p>
                    <a href="https://maps.google.com/?q=Sultanahmet+Meydanƒ±+Istanbul" target="_blank" style="display: inline-flex; align-items: center; gap: 4px; color: var(--primary); margin-top: 8px;">
                        <i class="fas fa-map-marked-alt"></i> –ú–∞—Ä—à—Ä—É—Ç –Ω–∞ –∫–∞—Ä—Ç–µ
                    </a>
                </div>
                
                <div class="timeline-item">
                    <div class="time">
                        <i class="fas fa-utensils"></i> –û–±–µ–¥
                    </div>
                    <p>–°—Ç–æ–ª–æ–≤–∞—è "Sultanahmet D√∂nercisi"</p>
                    <div class="tag food">
                        <i class="fas fa-drumstick-bite"></i> ~80-120 TL
                    </div>
                    <button class="btn btn-outline btn-small" style="margin-top: 8px; padding: 6px 12px;" onclick="addExpense('–û–±–µ–¥ –≤ Sultanahmet', 100, '–ï–¥–∞')">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å
                    </button>
                </div>
                
                <div class="timeline-item">
                    <div class="time">
                        <i class="fas fa-landmark"></i> 14:00 - 18:00
                    </div>
                    <p><strong>–¶–∏—Å—Ç–µ—Ä–Ω–∞ –ë–∞–∑–∏–ª–∏–∫–∞</strong> (450 TL) ‚Üí –ø–∞—Ä–∫ –ì—é–ª—å—Ö–∞–Ω–µ ‚Üí –≠–º–∏–Ω—ë–Ω—é</p>
                    <div class="tag price">
                        <i class="fas fa-ticket-alt"></i> 450 TL
                    </div>
                    <button class="btn btn-outline btn-small" style="margin-top: 8px; padding: 6px 12px;" onclick="addExpense('–¶–∏—Å—Ç–µ—Ä–Ω–∞ –ë–∞–∑–∏–ª–∏–∫–∞', 450, '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è')">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å
                    </button>
                </div>
            </div>
            
            <div class="note info">
                <i class="fas fa-info-circle"></i> <strong>Museum Pass:</strong> 850 TL –Ω–∞ 5 –¥–Ω–µ–π (–≤–∫–ª—é—á–∞–µ—Ç –¢–æ–ø–∫–∞–ø—ã, –ê–π—è-–°–æ—Ñ–∏—é –∏ –¥—Ä—É–≥–∏–µ –º—É–∑–µ–∏)
            </div>
            
            <div style="display: flex; gap: 12px; margin-top: 16px;">
                <button class="btn btn-outline btn-small" onclick="loadPage('day1')">
                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                </button>
                <button class="btn btn-small" onclick="loadPage('day3')">
                    –°–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </template>

    <template id="transport-template">
        <div class="card">
            <div class="card-header">
                <h2><i class="fas fa-subway"></i> –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –≤ –°—Ç–∞–º–±—É–ª–µ</h2>
            </div>
            
            <div class="note info">
                <i class="fas fa-ticket-alt"></i> <strong>Istanbulkart</strong> - –ø–æ–ø–æ–ª–Ω—è–µ–º–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è –≤—Å–µ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞. –≠–∫–æ–Ω–æ–º–∏—è –¥–æ 50%.
            </div>
            
            <div style="margin: 20px 0;">
                <div style="display: flex; align-items: center; gap: 12px; padding: 16px; background: var(--gray-100); border-radius: var(--radius-sm); margin-bottom: 12px;">
                    <div style="font-size: 2rem; color: var(--primary);">
                        <i class="fas fa-tram"></i>
                    </div>
                    <div>
                        <h3 style="margin-bottom: 4px;">–¢—Ä–∞–º–≤–∞–π T1</h3>
                        <p>–û—Å–Ω–æ–≤–Ω–∞—è –ª–∏–Ω–∏—è —á–µ—Ä–µ–∑ –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Ç–æ—á–∫–∏</p>
                        <div class="tag price" style="margin-top: 8px;">9.90 TL</div>
                    </div>
                </div>
                
                <div style="display: flex; align-items: center; gap: 12px; padding: 16px; background: var(--gray-100); border-radius: var(--radius-sm); margin-bottom: 12px;">
                    <div style="font-size: 2rem; color: var(--primary);">
                        <i class="fas fa-ship"></i>
                    </div>
                    <div>
                        <h3 style="margin-bottom: 4px;">–ü–∞—Ä–æ–º—ã</h3>
                        <p>–°–∞–º—ã–π –∂–∏–≤–æ–ø–∏—Å–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –ø–æ –ë–æ—Å—Ñ–æ—Ä—É</p>
                        <div class="tag price" style="margin-top: 8px;">15-25 TL</div>
                    </div>
                </div>
                
                <div style="display: flex; align-items: center; gap: 12px; padding: 16px; background: var(--gray-100); border-radius: var(--radius-sm);">
                    <div style="font-size: 2rem; color: var(--primary);">
                        <i class="fas fa-train"></i>
                    </div>
                    <div>
                        <h3 style="margin-bottom: 4px;">–ú–µ—Ç—Ä–æ</h3>
                        <p>–ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ø–æ –≥–æ—Ä–æ–¥—É</p>
                        <div class="tag price" style="margin-top: 8px;">9.90 TL</div>
                    </div>
                </div>
            </div>
            
            <h3 style="margin: 20px 0 12px 0;">–°—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–µ–∑–¥–∞ —Å Istanbulkart</h3>
            <div style="background: white; border-radius: var(--radius-sm); overflow: hidden; border: 1px solid var(--gray-200);">
                <div style="display: grid; grid-template-columns: 2fr 1fr 1fr; background: var(--gray-100); padding: 12px; font-weight: 600;">
                    <div>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</div>
                    <div style="text-align: center;">–í–∑—Ä–æ—Å–ª—ã–π</div>
                    <div style="text-align: center;">–î–µ—Ç—Å–∫–∏–π 8+</div>
                </div>
                <div style="display: grid; grid-template-columns: 2fr 1fr 1fr; padding: 12px; border-bottom: 1px solid var(--gray-200);">
                    <div>–¢—Ä–∞–º–≤–∞–π T1</div>
                    <div style="text-align: center; font-weight: 600;">9.90 TL</div>
                    <div style="text-align: center;">3.47 TL</div>
                </div>
                <div style="display: grid; grid-template-columns: 2fr 1fr 1fr; padding: 12px; border-bottom: 1px solid var(--gray-200);">
                    <div>–ü–∞—Ä–æ–º</div>
                    <div style="text-align: center; font-weight: 600;">15.00 TL</div>
                    <div style="text-align: center;">5.50 TL</div>
                </div>
                <div style="display: grid; grid-template-columns: 2fr 1fr 1fr; padding: 12px;">
                    <div>–ú–µ—Ç—Ä–æ/–ê–≤—Ç–æ–±—É—Å</div>
                    <div style="text-align: center; font-weight: 600;">9.90 TL</div>
                    <div style="text-align: center;">3.47 TL</div>
                </div>
            </div>
            
            <div class="note tip" style="margin-top: 20px;">
                <i class="fas fa-child"></i> <strong>–° —Ä–µ–±–µ–Ω–∫–æ–º:</strong> –î–µ—Ç–∏ –¥–æ 6 –ª–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ. –î–ª—è —Ä–µ–±–µ–Ω–∫–∞ 8 –ª–µ—Ç –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–∞—Ä—Ç—É –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É –Ω–∞ –≤—Å–µ—Ö.
            </div>
        </div>
    </template>

    <template id="expenses-template">
        <div class="card">
            <div class="card-header">
                <h2><i class="fas fa-money-bill-wave"></i> –£—á–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤</h2>
            </div>
            
            <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤ -->
            <div class="expense-form">
                <h3 style="margin-bottom: 16px;">–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥</h3>
                
                <div class="form-group">
                    <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <input type="text" class="form-input" id="expense-description" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –û–±–µ–¥ –≤ –∫–∞—Ñ–µ" maxlength="50">
                </div>
                
                <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 12px;">
                    <div class="form-group">
                        <label class="form-label">–°—É–º–º–∞</label>
                        <input type="number" class="form-input" id="expense-amount" placeholder="0" min="0" step="0.01">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">–í–∞–ª—é—Ç–∞</label>
                        <select class="form-select" id="expense-currency">
                            <option value="TL">TL</option>
                            <option value="BYN">BYN</option>
                            <option value="EUR">EUR</option>
                            <option value="USD">USD</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select class="form-select" id="expense-category">
                        <option value="–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç">üöå –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                        <option value="–ï–¥–∞">üçΩÔ∏è –ï–¥–∞</option>
                        <option value="–ñ–∏–ª—å–µ">üè® –ñ–∏–ª—å–µ</option>
                        <option value="–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è">üé≠ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                        <option value="–°—É–≤–µ–Ω–∏—Ä—ã">üéÅ –°—É–≤–µ–Ω–∏—Ä—ã</option>
                        <option value="–ü—Ä–æ—á–µ–µ">üì¶ –ü—Ä–æ—á–µ–µ</option>
                    </select>
                </div>
                
                <button class="btn" onclick="addNewExpense()">
                    <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥
                </button>
            </div>
            
            <!-- –°–ø–∏—Å–æ–∫ —Ä–∞—Å—Ö–æ–¥–æ–≤ -->
            <div class="expenses-list">
                <h3 style="margin-bottom: 12px;">–ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤</h3>
                <div id="expenses-container">
                    <!-- –†–∞—Å—Ö–æ–¥—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
                </div>
            </div>
            
            <!-- –ò—Ç–æ–≥–∏ -->
            <div class="total-expenses">
                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                    <span>–í—Å–µ–≥–æ —Ä–∞—Å—Ö–æ–¥–æ–≤:</span>
                    <span id="total-amount" style="font-weight: 700; font-size: 1.3rem; color: var(--primary);">0 TL</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="budget-progress" style="width: 0%"></div>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 0.9rem; color: var(--gray-500); margin-top: 4px;">
                    <span>–ë—é–¥–∂–µ—Ç: 10,000 TL</span>
                    <span id="budget-left">–û—Å—Ç–∞–ª–æ—Å—å: 10,000 TL</span>
                </div>
                
                <div style="display: flex; gap: 12px; margin-top: 16px;">
                    <button class="btn btn-outline btn-small" onclick="clearAllExpenses()">
                        <i class="fas fa-trash"></i> –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ
                    </button>
                    <button class="btn btn-outline btn-small" onclick="exportExpenses()">
                        <i class="fas fa-download"></i> –≠–∫—Å–ø–æ—Ä—Ç
                    </button>
                </div>
            </div>
        </div>
    </template>

    <template id="converter-template">
        <div class="card">
            <div class="card-header">
                <h2><i class="fas fa-calculator"></i> –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç</h2>
            </div>
            
            <p style="margin-bottom: 16px; color: var(--gray-600);">
                –ö—É—Ä—Å –Ω–∞ —Ñ–µ–≤—Ä–∞–ª—å 2026: 1 TL ‚âà 0.03 BYN | 1 EUR ‚âà 112 TL | 1 USD ‚âà 94,7 TL
            </p>
            
            <div style="text-align: center; margin-bottom: 20px;">
                <input type="number" id="amount-input" class="currency-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É" value="100" style="max-width: 200px;">
                <button class="btn" onclick="convertCurrency('tl', document.getElementById('amount-input').value)" style="width: auto; margin-top: 12px;">
                    <i class="fas fa-sync-alt"></i> –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
                </button>
            </div>
            
            <div class="converter-grid">
                <div class="currency-card">
                    <div class="currency-flag">üáπüá∑</div>
                    <h3 style="font-size: 1rem; margin-bottom: 8px;">–¢—É—Ä–µ—Ü–∫–∞—è –ª–∏—Ä–∞</h3>
                    <div id="tl-value" style="font-size: 1.4rem; font-weight: bold; color: var(--primary); margin: 8px 0;">100</div>
                    <input type="number" id="tl-input" class="currency-input" value="100" oninput="convertCurrency('tl', this.value)">
                </div>
                
                <div class="currency-card">
                    <div class="currency-flag">üáßüáæ</div>
                    <h3 style="font-size: 1rem; margin-bottom: 8px;">–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —Ä—É–±–ª—å</h3>
                    <div id="byn-value" style="font-size: 1.4rem; font-weight: bold; color: var(--primary); margin: 8px 0;">11050</div>
                    <input type="number" id="byn-input" class="currency-input" value="1050" oninput="convertCurrency('byn', this.value)">
                </div>
                
                <div class="currency-card">
                    <div class="currency-flag">üá™üá∫</div>
                    <h3 style="font-size: 1rem; margin-bottom: 8px;">–ï–≤—Ä–æ</h3>
                    <div id="eur-value" style="font-size: 1.4rem; font-weight: bold; color: var(--primary); margin: 8px 0;">2.86</div>
                    <input type="number" id="eur-input" class="currency-input" value="2.86" oninput="convertCurrency('eur', this.value)">
                </div>
                
                <div class="currency-card">
                    <div class="currency-flag">üá∫üá∏</div>
                    <h3 style="font-size: 1rem; margin-bottom: 8px;">–î–æ–ª–ª–∞—Ä</h3>
                    <div id="usd-value" style="font-size: 1.4rem; font-weight: bold; color: var(--primary); margin: 8px 0;">3.13</div>
                    <input type="number" id="usd-input" class="currency-input" value="3.13" oninput="convertCurrency('usd', this.value)">
                </div>
            </div>
            
            <div class="note tip" style="margin-top: 20px;">
                <i class="fas fa-lightbulb"></i> <strong>–°–æ–≤–µ—Ç:</strong> –ú–µ–Ω—è–π—Ç–µ –¥–µ–Ω—å–≥–∏ –≤ –æ–±–º–µ–Ω–Ω–∏–∫–∞—Ö –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–æ–¥–∞, –∞ –Ω–µ –≤ –∞—ç—Ä–æ–ø–æ—Ä—Ç—É.
            </div>
        </div>
    </template>

    <template id="food-template">
        <div class="card">
            <div class="card-header">
                <h2><i class="fas fa-utensils"></i> –ë—é–¥–∂–µ—Ç–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ</h2>
            </div>
            
            <div class="food-card">
                <div class="food-card-header">
                    <i class="fas fa-hamburger"></i> –£–ª–∏—á–Ω–∞—è –µ–¥–∞
                </div>
                <div class="food-card-body">
                    <div class="food-item">
                        <span>–°–∏–º–∏—Ç (–±—É–±–ª–∏–∫)</span>
                        <span style="font-weight: 600; color: var(--primary);">5-10 TL</span>
                    </div>
                    <div class="food-item">
                        <span>–ë–∞–ª—ã–∫-—ç–∫–º–µ–∫ (—Ä—ã–±–∞ –≤ —Ö–ª–µ–±–µ)</span>
                        <span style="font-weight: 600; color: var(--primary);">50-80 TL</span>
                    </div>
                    <div class="food-item">
                        <span>–ú–∏–¥—å–µ –¥–æ–ª–º–∞ (–º–∏–¥–∏–∏)</span>
                        <span style="font-weight: 600; color: var(--primary);">10-15 TL/—à—Ç</span>
                    </div>
                    <div class="food-item" style="border-bottom: none;">
                        <span>–ö–∞—à—Ç–∞–Ω—ã/–∫—É–∫—É—Ä—É–∑–∞</span>
                        <span style="font-weight: 600; color: var(--primary);">20-30 TL</span>
                    </div>
                </div>
            </div>
            
            <div class="food-card">
                <div class="food-card-header">
                    <i class="fas fa-pizza-slice"></i> –§–∞—Å—Ç-—Ñ—É–¥
                </div>
                <div class="food-card-body">
                    <div class="food-item">
                        <span>–î—ë–Ω–µ—Ä-–∫–µ–±–∞–±</span>
                        <span style="font-weight: 600; color: var(--primary);">60-100 TL</span>
                    </div>
                    <div class="food-item">
                        <span>–ü–∏–¥–µ (—Ç—É—Ä–µ—Ü–∫–∞—è –ø–∏—Ü—Ü–∞)</span>
                        <span style="font-weight: 600; color: var(--primary);">80-150 TL</span>
                    </div>
                    <div class="food-item">
                        <span>–õ–∞—Ö–º–∞–¥–∂—É–Ω</span>
                        <span style="font-weight: 600; color: var(--primary);">40-70 TL</span>
                    </div>
                </div>
            </div>
            
            <div class="food-card">
                <div class="food-card-header">
                    <i class="fas fa-coffee"></i> –ù–∞–ø–∏—Ç–∫–∏
                </div>
                <div class="food-card-body">
                    <div class="food-item">
                        <span>–ß–∞–π</span>
                        <span style="font-weight: 600; color: var(--primary);">10-20 TL</span>
                    </div>
                    <div class="food-item">
                        <span>–¢—É—Ä–µ—Ü–∫–∏–π –∫–æ—Ñ–µ</span>
                        <span style="font-weight: 600; color: var(--primary);">30-50 TL</span>
                    </div>
                    <div class="food-item" style="border-bottom: none;">
                        <span>–ê–π—Ä–∞–Ω</span>
                        <span style="font-weight: 600; color: var(--primary);">15-25 TL</span>
                    </div>
                </div>
            </div>
            
            <h3 style="margin: 20px 0 12px 0;">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–µ—Å—Ç–∞</h3>
            
            <div class="timeline">
                <div class="timeline-item">
                    <div style="font-weight: 600; margin-bottom: 4px;">Sultanahmet D√∂nercisi</div>
                    <p style="font-size: 0.9rem; color: var(--gray-600);">–í–æ–∑–ª–µ –º–µ—á–µ—Ç–∏ –°—É–ª—Ç–∞–Ω–∞—Ö–º–µ—Ç</p>
                    <div class="tag food" style="margin-top: 8px;">
                        <i class="fas fa-utensils"></i> 80-120 TL
                    </div>
                    <button class="btn btn-outline btn-small" style="margin-top: 8px; padding: 6px 12px;" onclick="addExpense('–û–±–µ–¥ Sultanahmet D√∂nercisi', 100, '–ï–¥–∞')">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥
                    </button>
                </div>
                
                <div class="timeline-item">
                    <div style="font-weight: 600; margin-bottom: 4px;">–°—Ç–æ–ª–æ–≤–∞—è –ø—Ä–∏ –º–µ—á–µ—Ç–∏ –°—É–ª–µ–π–º–∞–Ω–∏–µ</div>
                    <p style="font-size: 0.9rem; color: var(--gray-600);">–ê—É—Ç–µ–Ω—Ç–∏—á–Ω–æ –∏ –¥–µ—à–µ–≤–æ, –ª—É—á—à–∏–π –≤–∏–¥</p>
                    <div class="tag food" style="margin-top: 8px;">
                        <i class="fas fa-utensils"></i> 60-100 TL
                    </div>
                </div>
            </div>
            
            <div class="note tip" style="margin-top: 20px;">
                <i class="fas fa-map-marker-alt"></i> <strong>–ì–¥–µ –∏—Å–∫–∞—Ç—å –¥–µ—à–µ–≤—É—é –µ–¥—É:</strong> –†–∞–π–æ–Ω—ã –ê–∫—Å–∞—Ä–∞–π, –õ–∞–ª–µ–ª–∏, —Å—Ç–æ–ª–æ–≤—ã–µ –ø—Ä–∏ –º–µ—á–µ—Ç—è—Ö, —É–ª–æ—á–∫–∏ –≤–¥–∞–ª–∏ –æ—Ç —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö —Ü–µ–Ω—Ç—Ä–æ–≤.
            </div>
        </div>
    </template>

    <script>
        // –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
        let expenses = JSON.parse(localStorage.getItem('istanbul_expenses')) || [];
        let currentPage = 'day1';
        const BUDGET = 10000; // –ë—é–¥–∂–µ—Ç –≤ TL
        
        // –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç
        const rates = {
            TL: 1,
            BYN: 10.5,
            EUR: 0.0286,
            USD: 0.0313
        };
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            loadPage('day1');
            updateExpensesList();
            updateBudgetInfo();
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.dataset.page;
                    loadPage(page);
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
                    document.querySelectorAll('.nav-item').forEach(nav => {
                        nav.classList.remove('active');
                    });
                    this.classList.add('active');
                });
            });
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–Ω–µ–π –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ (–ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const day = entry.target.id;
                        // –ú–æ–∂–Ω–æ –ø–æ–¥–≥—Ä—É–∑–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –¥–Ω—è
                    }
                });
            }, { threshold: 0.1 });
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä
            convertCurrency('tl', 100);
        });
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        function loadPage(page) {
            currentPage = page;
            const contentArea = document.getElementById('content-area');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ª–æ–∞–¥–µ—Ä
            contentArea.innerHTML = '<div style="text-align: center; padding: 40px;"><i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: var(--primary);"></i></div>';
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è UX
            setTimeout(() => {
                const template = document.getElementById(`${page}-template`);
                if (template) {
                    contentArea.innerHTML = template.innerHTML;
                    
                    // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –≤–≤–µ—Ä—Ö
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤ —Ö–µ–¥–µ—Ä–µ
                    updateHeaderTitle(page);
                }
            }, 300);
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞
        function updateHeaderTitle(page) {
            const titles = {
                'day1': '–î–µ–Ω—å 1: –ü—Ä–∏–ª–µ—Ç',
                'day2': '–î–µ–Ω—å 2: –°—É–ª—Ç–∞–Ω–∞—Ö–º–µ—Ç',
                'day3': '–î–µ–Ω—å 3: –ë–∞–∑–∞—Ä—ã',
                'transport': '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç',
                'expenses': '–£—á–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤',
                'converter': '–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç',
                'food': '–ë—é–¥–∂–µ—Ç–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ'
            };
            
            const header = document.querySelector('.header-content .logo span');
            if (header && titles[page]) {
                const originalText = 'Istanbul Guide';
                header.textContent = titles[page];
                
                // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    header.textContent = originalText;
                }, 3000);
            }
        }
        
        // –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç
        function convertCurrency(from, value) {
            let tlValue;
            const numValue = parseFloat(value) || 0;
            
            switch(from) {
                case 'tl': tlValue = numValue; break;
                case 'byn': tlValue = numValue / rates.BYN; break;
                case 'eur': tlValue = numValue / rates.EUR; break;
                case 'usd': tlValue = numValue / rates.USD; break;
                default: tlValue = numValue;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
            document.getElementById('tl-value').textContent = tlValue.toFixed(2);
            document.getElementById('byn-value').textContent = (tlValue * rates.BYN).toFixed(2);
            document.getElementById('eur-value').textContent = (tlValue * rates.EUR).toFixed(2);
            document.getElementById('usd-value').textContent = (tlValue * rates.USD).toFixed(2);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–ø—É—Ç—ã
            document.getElementById('tl-input').value = tlValue.toFixed(2);
            document.getElementById('byn-input').value = (tlValue * rates.BYN).toFixed(2);
            document.getElementById('eur-input').value = (tlValue * rates.EUR).toFixed(2);
            document.getElementById('usd-input').value = (tlValue * rates.USD).toFixed(2);
        }
        
        // –ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞
        function addExpense(description, amount, category) {
            const expense = {
                id: Date.now(),
                description: description,
                amount: amount,
                currency: 'TL',
                category: category,
                date: new Date().toLocaleDateString('ru-RU'),
                timestamp: Date.now()
            };
            
            expenses.push(expense);
            saveExpenses();
            updateExpensesList();
            updateBudgetInfo();
            showToast(`–î–æ–±–∞–≤–ª–µ–Ω —Ä–∞—Å—Ö–æ–¥: ${description} - ${amount} TL`);
            
            // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–∞—Å—Ö–æ–¥–æ–≤
            loadPage('expenses');
            document.querySelectorAll('.nav-item').forEach(nav => {
                nav.classList.remove('active');
                if (nav.dataset.page === 'expenses') {
                    nav.classList.add('active');
                }
            });
        }
        
        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–∞—Å—Ö–æ–¥–∞ –∏–∑ —Ñ–æ—Ä–º—ã
        function addNewExpense() {
            const description = document.getElementById('expense-description').value.trim();
            const amount = parseFloat(document.getElementById('expense-amount').value);
            const currency = document.getElementById('expense-currency').value;
            const category = document.getElementById('expense-category').value;
            
            if (!description || !amount || amount <= 0) {
                showToast('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ', 'error');
                return;
            }
            
            const expense = {
                id: Date.now(),
                description: description,
                amount: amount,
                currency: currency,
                category: category,
                date: new Date().toLocaleDateString('ru-RU'),
                timestamp: Date.now()
            };
            
            expenses.push(expense);
            saveExpenses();
            updateExpensesList();
            updateBudgetInfo();
            showToast(`–†–∞—Å—Ö–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω: ${description}`);
            
            // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
            document.getElementById('expense-description').value = '';
            document.getElementById('expense-amount').value = '';
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ —Å–ø–∏—Å–∫—É —Ä–∞—Å—Ö–æ–¥–æ–≤
            document.getElementById('expenses-container').scrollIntoView({ behavior: 'smooth' });
        }
        
        // –£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞
        function deleteExpense(id) {
            expenses = expenses.filter(expense => expense.id !== id);
            saveExpenses();
            updateExpensesList();
            updateBudgetInfo();
            showToast('–†–∞—Å—Ö–æ–¥ —É–¥–∞–ª–µ–Ω');
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤
        function updateExpensesList() {
            const container = document.getElementById('expenses-container');
            if (!container) return;
            
            if (expenses.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px 20px; color: var(--gray-500);">
                        <i class="fas fa-receipt" style="font-size: 3rem; margin-bottom: 16px; opacity: 0.5;"></i>
                        <p>–†–∞—Å—Ö–æ–¥–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</p>
                        <p style="font-size: 0.9rem; margin-top: 8px;">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π —Ä–∞—Å—Ö–æ–¥</p>
                    </div>
                `;
                return;
            }
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)
            expenses.sort((a, b) => b.timestamp - a.timestamp);
            
            container.innerHTML = expenses.map(expense => `
                <div class="expense-item">
                    <div>
                        <div style="font-weight: 600;">${expense.description}</div>
                        <div class="expense-category">
                            ${getCategoryIcon(expense.category)} ${expense.category} ‚Ä¢ ${expense.date}
                        </div>
                    </div>
                    <div>
                        <div class="expense-amount">${expense.amount} ${expense.currency}</div>
                        <div style="text-align: right; margin-top: 4px;">
                            <button onclick="deleteExpense(${expense.id})" style="background: none; border: none; color: var(--gray-400); font-size: 0.9rem; padding: 4px 8px;">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        // –ò–∫–æ–Ω–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        function getCategoryIcon(category) {
            const icons = {
                '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç': 'üöå',
                '–ï–¥–∞': 'üçΩÔ∏è',
                '–ñ–∏–ª—å–µ': 'üè®',
                '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è': 'üé≠',
                '–°—É–≤–µ–Ω–∏—Ä—ã': 'üéÅ',
                '–ü—Ä–æ—á–µ–µ': 'üì¶'
            };
            return icons[category] || 'üí∞';
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±—é–¥–∂–µ—Ç–µ
        function updateBudgetInfo() {
            const total = expenses.reduce((sum, expense) => {
                // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤—Å–µ –≤ TL
                let amountInTL = expense.amount;
                if (expense.currency !== 'TL') {
                    amountInTL = expense.amount / rates[expense.currency];
                }
                return sum + amountInTL;
            }, 0);
            
            const totalElement = document.getElementById('total-amount');
            const budgetLeftElement = document.getElementById('budget-left');
            const progressElement = document.getElementById('budget-progress');
            
            if (totalElement) {
                totalElement.textContent = `${total.toFixed(2)} TL`;
            }
            
            if (budgetLeftElement) {
                const left = BUDGET - total;
                budgetLeftElement.textContent = `–û—Å—Ç–∞–ª–æ—Å—å: ${left.toFixed(2)} TL`;
                budgetLeftElement.style.color = left < 0 ? 'var(--primary)' : left < BUDGET * 0.2 ? 'var(--warning)' : 'var(--gray-500)';
            }
            
            if (progressElement) {
                const progress = Math.min((total / BUDGET) * 100, 100);
                progressElement.style.width = `${progress}%`;
                progressElement.style.background = progress > 80 ? 
                    'linear-gradient(90deg, var(--primary), #EF4444)' : 
                    'linear-gradient(90deg, var(--primary), var(--accent))';
            }
        }
        
        // –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤
        function clearAllExpenses() {
            if (expenses.length === 0) {
                showToast('–ù–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è', 'info');
                return;
            }
            
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ä–∞—Å—Ö–æ–¥—ã? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
                expenses = [];
                saveExpenses();
                updateExpensesList();
                updateBudgetInfo();
                showToast('–í—Å–µ —Ä–∞—Å—Ö–æ–¥—ã —É–¥–∞–ª–µ–Ω—ã');
            }
        }
        
        // –≠–∫—Å–ø–æ—Ä—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤
        function exportExpenses() {
            if (expenses.length === 0) {
                showToast('–ù–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞', 'info');
                return;
            }
            
            const csv = [
                ['–û–ø–∏—Å–∞–Ω–∏–µ', '–°—É–º–º–∞', '–í–∞–ª—é—Ç–∞', '–ö–∞—Ç–µ–≥–æ—Ä–∏—è', '–î–∞—Ç–∞'],
                ...expenses.map(exp => [
                    exp.description,
                    exp.amount,
                    exp.currency,
                    exp.category,
                    exp.date
                ])
            ].map(row => row.join(',')).join('\n');
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `istanbul_expenses_${new Date().toISOString().slice(0, 10)}.csv`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            showToast('–†–∞—Å—Ö–æ–¥—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ CSV');
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤ –≤ localStorage
        function saveExpenses() {
            localStorage.setItem('istanbul_expenses', JSON.stringify(expenses));
        }
        
        // Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            if (!toast) return;
            
            toast.textContent = message;
            toast.style.display = 'block';
            toast.style.background = type === 'error' ? '#EF4444' : type === 'info' ? '#3B82F6' : '#10B981';
            
            setTimeout(() => {
                toast.style.display = 'none';
            }, 3000);
        }
        
        // –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è touch —É—Å—Ç—Ä–æ–π—Å—Ç–≤
        document.addEventListener('touchstart', function() {}, {passive: true});
        
        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –¥–≤–æ–π–Ω–æ–º —Ç–∞–ø–µ
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–æ–≤ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        let touchStartX = 0;
        let touchEndX = 0;
        
        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        });
        
        document.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });
        
        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                const pages = ['day1', 'day2', 'day3', 'transport', 'expenses', 'converter', 'food'];
                const currentIndex = pages.indexOf(currentPage);
                
                if (diff > 0 && currentIndex < pages.length - 1) {
                    // –°–≤–∞–π–ø –≤–ª–µ–≤–æ - —Å–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
                    const nextPage = pages[currentIndex + 1];
                    loadPage(nextPage);
                    updateNavActive(nextPage);
                } else if (diff < 0 && currentIndex > 0) {
                    // –°–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ - –ø—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
                    const prevPage = pages[currentIndex - 1];
                    loadPage(prevPage);
                    updateNavActive(prevPage);
                }
            }
        }
        
        function updateNavActive(page) {
            document.querySelectorAll('.nav-item').forEach(nav => {
                nav.classList.remove('active');
                if (nav.dataset.page === page) {
                    nav.classList.add('active');
                }
            });
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
        window.addEventListener('beforeunload', function() {
            saveExpenses();
        });
    </script>
</body>
</html>
